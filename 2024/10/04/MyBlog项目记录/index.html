<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#3367D6"/>
  <link rel="apple-touch-icon" href="/icons-192.png">
  <link rel="manifest" href="/manifest.json">
  
  <meta name="generator" content="Hexo 7.3.0">

  
    <meta name="description" content="Zhou">
  

  

  
    <meta name="author" content="ChengZhou">
  

  

  

  <title>MyBlogé¡¹ç›®è®°å½• | XiaoZhou</title>

  

  
    <link rel="shortcut icon" href="/favicon.ico">
  

  

  

  

  
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
  <div class="root-container">
    
<!-- header container -->
<header class="header-container post">
  
    <div class="post-image" style="background-image: url(https://qiniu.sukoshi.xyz/src/images/68686407_p0.jpg)"></div>
  

  <!-- navbar -->
<nav class="navbar">
  <div class="navbar-content">
    <!-- logo -->
    <div class="navbar-logo">
      <a href="/">
        
          XiaoZhou
        
      </a>
    </div>
    <!-- link -->
    <div class="navbar-link">
      <div class="navbar-btn">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <ul class="navbar-list">
        
          <li class="navbar-list-item"><a href="/">é¦–é¡µ</a></li>
        
          <li class="navbar-list-item"><a href="/archives">å½’æ¡£</a></li>
        
          <li class="navbar-list-item"><a href="/links">å‹é“¾</a></li>
        
          <li class="navbar-list-item"><a href="/about">å…³äº</a></li>
        
      </ul>
    </div>
  </div>
</nav>

  
  

  
  

  
  

  
  

  
  
    <div class="header-content">
      <div class="post-text layout-block">
        <div class="layout-margin">
          <h1 class="title-wrap">MyBlogé¡¹ç›®è®°å½•</h1>
          <h2 class="title-sub-wrap">
            <strong>ChengZhou</strong>
            <span>å‘å¸ƒäº</span>
            <time  class="article-date" datetime="2024-10-04T12:50:34.000Z" itemprop="datePublished">2024-10-04</time>
          </h2>
          
          
          <ul class="wrap-list dark">
  
</ul>
          <ul class="wrap-list dark">
  
    <li><a href="/tags/%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/">ğŸ·ï¸ é¡¹ç›®è®°å½•</a></li>
  
</ul>
        </div>
      </div>
    </div>
  

  
  
  
</header>

    <!-- æ–‡ç«  -->

<!-- æ–‡ç« å†…å®¹ -->
<div class="body-container">
  <article class="content-container layout-block post-container">
    <div class="article-info">
      
      
      
      
      <section class="article-entry markdown-body layout-margin content-padding--large soft-size--large soft-style--box">
        <h1><span id="ä¸€-é¡¹ç›®ä»‹ç»">ä¸€ã€é¡¹ç›®ä»‹ç»</span></h1><blockquote>
<p>ä½¿ç”¨Djangoæ¡†æ¶å¼€å‘ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œåšå®¢ç³»ç»ŸåŒ…æ‹¬ç”¨æˆ·æ³¨å†Œç™»å½•ã€ç”¨æˆ·èµ„æ–™å±•ç¤ºã€å›¾ç‰‡å¢™åŠŸèƒ½ã€ç•™è¨€æ¿åŠŸèƒ½ã€æ–‡ç« åˆ—è¡¨ä»¥åŠåšæ–‡ç®¡ç†åŠŸèƒ½ã€‚</p>
<p>å¾…å®Œå–„ï¼šä¿®æ”¹å¯†ç ã€æœç´¢åšæ–‡</p>
</blockquote>
<h1><span id="äºŒ-é¡¹ç›®è®¾è®¡">äºŒã€é¡¹ç›®è®¾è®¡</span></h1><ul>
<li><p>åšå®¢ç®¡ç†åˆ’åˆ†ä¸º3ä¸ªæ•°æ®è¡¨ï¼Œåˆ†åˆ«æ˜¯åšæ–‡åˆ†ç±»ã€åšæ–‡ç®¡ç†ã€è¯„è®ºç®¡ç†ã€‚åšæ–‡åˆ†ç±»è®¾ç½®æ–‡ç« çš„åˆ†ç±»æ ‡ç­¾ï¼›åšæ–‡ç®¡ç†æä¾›åšä¸»å¯¹æ¯ç¯‡æ–‡ç« è¿›è¡Œä¿®æ”¹ã€ç¼–è¾‘æ“ä½œï¼›è¯„è®ºç®¡ç†å­˜å‚¨æ¯ç¯‡æ–‡ç« çš„è¯„è®ºå†…å®¹ã€‚</p>
</li>
<li><p>å›¾ç‰‡å¢™ç®¡ç†ä¾›åšä¸»ç®¡ç†è‡ªå·±ä¸Šä¼ çš„å›¾ç‰‡ï¼Œå¯å¯¹æ¯å¼ å›¾ç‰‡è¿›è¡Œä¿®æ”¹ã€åˆ é™¤æ“ä½œã€‚</p>
</li>
<li><p>ç”¨æˆ·ç®¡ç†åªèƒ½çœ‹åˆ°è‡ªå·±çš„è´¦å·ä¿¡æ¯ï¼Œç”¨æˆ·çš„è´¦å·ä¿¡æ¯å¯æ˜¾ç¤ºåœ¨åšä¸»çš„èµ„æ–™ä¿¡æ¯é¡µã€‚</p>
</li>
<li><p>ç•™è¨€ç®¡ç†åŠŸèƒ½åªèƒ½çœ‹åˆ°è®¿å®¢ç»™è‡ªå·±çš„ç•™è¨€å†…å®¹ï¼Œå¹¶ä¸”å…·æœ‰æ‰€æœ‰æ“ä½œæƒé™ã€‚</p>
<p><strong>åœ¨è®¾è®¡ç³»ç»Ÿæ¶æ„æ—¶ï¼Œå¿…é¡»å›´ç»•é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½è¿›è¡Œè®¾è®¡ï¼Œä»¥æ ¸å¿ƒåŠŸèƒ½ä¸ºä¸»é¢˜ï¼Œå‘å¤–å»¶ä¼¸å’Œå®Œå–„å…¶ä»–åŠŸèƒ½ï¼Œè¿™æ˜¯é¡¹ç›®æ¶æ„è®¾è®¡çš„æ€è·¯ä¹‹ä¸€ã€‚</strong></p>
</li>
</ul>
<h2><span id="ä¸€-æ·»åŠ é¡¹ç›®åº”ç”¨">ä¸€ã€æ·»åŠ é¡¹ç›®åº”ç”¨</span></h2><blockquote>
<p>åœ¨Terminalä¸­æ–°å»ºå››ä¸ªåº”ç”¨ï¼šaccountã€albumã€articleã€interflow</p>
<p><strong>python manage.py startapp account</strong></p>
<p><strong>python manage.py startapp album</strong></p>
<p><strong>python manage.py startapp article</strong></p>
<p><strong>python manage.py startapp interflow</strong></p>
<p><strong>å¦å¤–è¿˜éœ€åœ¨æ¯ä¸ªåº”ç”¨ä¸­æ·»åŠ urls.pyæ–‡ä»¶</strong></p>
</blockquote>
<h2><span id="äºŒ-æ·»åŠ èµ„æºæ–‡ä»¶å¤¹">äºŒã€æ·»åŠ èµ„æºæ–‡ä»¶å¤¹</span></h2><p><strong>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ mediaã€publicStaticã€templates(å·²æ‹¥æœ‰å°±ä¸ç”¨æ·»åŠ )</strong></p>
<h2><span id="ä¸‰-ç›¸å…³è¯´æ˜">ä¸‰ã€ç›¸å…³è¯´æ˜</span></h2><h3><span id="1-é¡¹ç›®åº”ç”¨account">1ã€é¡¹ç›®åº”ç”¨account</span></h3><blockquote>
<p><em>ç”¨äºå®ç°ç”¨æˆ·æ³¨å†Œã€ç™»å½•å’Œç”¨æˆ·èµ„æ–™ä¿¡æ¯é¡µï¼Œè‡ªå®šä¹‰æ¨¡å‹MyUserç»§æ‰¿å†…ç½®æ¨¡å‹Userï¼Œåœ¨å†…ç½®æ¨¡å‹Userçš„åŸºç¡€ä¸Šæ·»åŠ æ–°å­—æ®µï¼Œå¯ä»¥å®Œå–„ç”¨æˆ·ä¿¡æ¯ã€‚æ¨¡å‹MyUserä¸ºåšä¸»èµ„æ–™ä¿¡æ¯é¡µæä¾›æ•°æ®æ”¯æŒï¼Œè€Œä¸”MyUserè¿˜éœ€è¦å…³è”å…¶ä»–æ¨¡å‹ã€‚</em></p>
</blockquote>
<h3><span id="2-é¡¹ç›®åº”ç”¨album">2ã€é¡¹ç›®åº”ç”¨album</span></h3><blockquote>
<p><em>ç”¨äºå®ç°å›¾ç‰‡å¢™åŠŸèƒ½ï¼Œæ¯ä¸ªç”¨æˆ·çš„å›¾ç‰‡å¢™åªèƒ½æ˜¾ç¤ºè‡ªå·±ä¸Šä¼ çš„å›¾ç‰‡ä¿¡æ¯ã€‚æ¨¡å‹AlbumInfoç”¨äºå­˜å‚¨å›¾ç‰‡å¢™çš„å›¾ç‰‡ä¿¡æ¯ï¼Œå®ƒè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼Œä¸æ¨¡å‹MyUserç»„æˆä¸€å¯¹å¤šçš„æ•°æ®å…³ç³»ã€‚</em></p>
</blockquote>
<h3><span id="3-é¡¹ç›®åº”ç”¨article">3ã€é¡¹ç›®åº”ç”¨article</span></h3><blockquote>
<p><em>ç”¨äºå®ç°ç”¨æˆ·çš„æ–‡ç« ç®¡ç†ï¼Œæ¯ç¯‡æ–‡ç« è®¾æœ‰åˆ†ç±»æ ‡ç­¾ã€æ­£æ–‡å†…å®¹å’Œè¯„è®ºä¿¡æ¯ï¼Œä¸‰è€…åˆ†åˆ«å¯¹åº”æ¨¡å‹ArticleTagã€ArticleInfoã€Commentï¼Œæ¯ä¸ªæ¨¡å‹ä¹‹é—´çš„æ•°æ®å…³ç³»è¯´æ˜å¦‚ä¸‹ï¼š</em></p>
<ul>
<li>æ¨¡å‹ArticleTagè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼Œä¸æ¨¡å‹MyUserç»„æˆä¸€å¯¹å¤šçš„æ•°æ®å…³ç³»ã€‚</li>
<li>æ¨¡å‹ArticleInfoä¸ä»…ä¸æ¨¡å‹MyUserç»„æˆä¸€å¯¹å¤šçš„æ•°æ®å…³ç³»ï¼Œå¹¶ä¸”ä¸æ¨¡å‹ArticleTagç»„æˆå¤šå¯¹å¤šçš„æ•°æ®å…³ç³»ã€‚</li>
<li>æ¨¡å‹Commentåªå¯¹æ¨¡å‹ArticleInfoç»„æˆä¸€å¯¹å¤šçš„æ•°æ®å…³ç³»ã€‚</li>
</ul>
</blockquote>
<h3><span id="4-é¡¹ç›®åº”ç”¨interflow">4ã€é¡¹ç›®åº”ç”¨interflow</span></h3><blockquote>
<p><em>ç”¨äºå®ç°ç•™è¨€æ¿åŠŸèƒ½ï¼Œæ¨¡å‹Boardå­˜å‚¨ç•™è¨€æ¿ä¿¡æ¯ï¼Œå®ƒè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼Œä¸æ¨¡å‹MyUserç»„æˆä¸€å¯¹å¤šçš„æ•°æ®å…³ç³»ï¼Œä»è€ŒåŒºåˆ†æ¯ä¸ªç”¨æˆ·çš„ç•™è¨€æ¿å†…å®¹ã€‚</em></p>
</blockquote>
<h3><span id="5-åª’ä½“èµ„æºæ–‡ä»¶å¤¹media">5ã€åª’ä½“èµ„æºæ–‡ä»¶å¤¹media</span></h3><blockquote>
<p><em>ç”¨äºå­˜æ”¾ç”¨æˆ·ä¸Šä¼ çš„æ–‡ç« å›¾ç‰‡ã€å›¾ç‰‡å¢™å›¾ç‰‡ã€ç”¨æˆ·å¤´åƒç­‰èµ„æºæ–‡ä»¶ï¼Œè¿™ç±»èµ„æºå˜åŠ¨è¯„ç‡è¾ƒé«˜ï¼Œå› æ­¤ä¸é™æ€èµ„æºåŒºåˆ†ä¸åŒçš„å­˜å‚¨è·¯å¾„ã€‚</em></p>
</blockquote>
<h3><span id="6-é™æ€èµ„æºæ–‡ä»¶å¤¹publicstatic">6ã€é™æ€èµ„æºæ–‡ä»¶å¤¹publicStatic</span></h3><blockquote>
<p><em>ç”¨äºå­˜æ”¾ç½‘é¡µçš„CSSæ ·å¼æ–‡ä»¶ã€JavaScriptè„šæœ¬æ–‡ä»¶å’Œç½‘é¡µå›¾ç‰‡ç­‰é™æ€èµ„æºã€‚</em></p>
</blockquote>
<h3><span id="7-æ¨¡æ¿æ–‡ä»¶å¤¹templates">7ã€æ¨¡æ¿æ–‡ä»¶å¤¹templates</span></h3><blockquote>
<p><em>ç”¨äºå­˜æ”¾æ¨¡æ¿æ–‡ä»¶ï¼Œæœ¬é¡¹ç›®ä»¥ä¾›ä½¿ç”¨7ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œæ¯ä¸ªæ¨¡æ¿æ–‡ä»¶çš„è¯´æ˜å¦‚ä¸‹ï¼š</em></p>
<ul>
<li>base.htmlå®šä¹‰é¡¹ç›®çš„å…±ç”¨æ¨¡æ¿æ–‡ä»¶</li>
<li>album.htmlå®ç°å›¾ç‰‡å¢™çš„ç½‘é¡µå†…å®¹</li>
<li>article.htmlå®ç°æ–‡ç« åˆ—è¡¨é¡µ</li>
<li>board.htmlå®ç°ç•™è¨€æ¿çš„ç½‘é¡µå†…å®¹</li>
<li>detail.htmlå®ç°æ–‡ç« æ­£æ–‡å†…å®¹é¡µ</li>
<li>user.htmlå®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½•é¡µ</li>
<li>about.htmlå®ç°ç”¨æˆ·èµ„æ–™ä¿¡æ¯é¡µ</li>
</ul>
</blockquote>
<h2><span id="å››-è¡¥å……è¯´æ˜">å››ã€è¡¥å……è¯´æ˜</span></h2><blockquote>
<p>é¡¹ç›®éœ€è¦æ³¨å†Œç™»å½•åŠŸèƒ½ï¼Œè€ŒAdminåå°ç³»ç»Ÿå†…ç½®ç”¨æˆ·ç™»å½•é¡µé¢ï¼Œä¸ºé¿å…ä¸€ä¸ªç½‘é¡µè®¾æœ‰ä¸¤ä¸ªä¸åŒç™»å½•é¡µé¢ï¼Œå¯¹ç”¨æˆ·é€ æˆä¸å¥½çš„ä½“éªŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ç”¨æˆ·æ³¨å†Œå’Œç™»å½•é¡µé¢ä½œä¸ºAdminåå°ç³»ç»Ÿçš„ç™»å½•é¡µé¢ã€‚</p>
<p><strong>åœ¨é¡¹ç›®æ¬¡çº§ç›®å½•MyBlogä¸­æ·»åŠ myadmin.pyå’Œmyapps.pyæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶ç”¨äºè‡ªå®šä¹‰Adminåå°ç³»ç»Ÿã€‚</strong></p>
</blockquote>
<h1><span id="ä¸‰-å…·ä½“å®ç°">ä¸‰ã€å…·ä½“å®ç°</span></h1><h2><span id="ä¸€-ç¯å¢ƒé…ç½®">ä¸€ã€ç¯å¢ƒé…ç½®</span></h2><h3><span id="ä¸€-åœ¨settingspy-ä¸­è¿›è¡Œç›¸åº”çš„ç¯å¢ƒé…ç½®">ä¸€ã€åœ¨settings.py ä¸­è¿›è¡Œç›¸åº”çš„ç¯å¢ƒé…ç½®ï¼š</span></h3><h5><span id="1-å°†é¡¹ç›®åº”ç”¨å†™å…¥é…ç½®å±æ€§installed_apps">1ã€å°†é¡¹ç›®åº”ç”¨å†™å…¥é…ç½®å±æ€§INSTALLED_APPS:</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶INSTALLED_APPS = [</span><br><span class="line">    &#x27;django.contrib.admin&#x27;,</span><br><span class="line">    &#x27;django.contrib.auth&#x27;,</span><br><span class="line">    &#x27;django.contrib.contenttypes&#x27;,</span><br><span class="line">    &#x27;django.contrib.sessions&#x27;,</span><br><span class="line">    &#x27;django.contrib.messages&#x27;,</span><br><span class="line">    &#x27;django.contrib.staticfiles&#x27;,</span><br><span class="line">    &#x27;account&#x27;,   # æ·»åŠ åº”ç”¨account</span><br><span class="line">    &#x27;album&#x27;,     # æ·»åŠ åº”ç”¨account</span><br><span class="line">    &#x27;article&#x27;,   # æ·»åŠ åº”ç”¨account</span><br><span class="line">    &#x27;interflow&#x27;, # æ·»åŠ åº”ç”¨account</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-æ·»åŠ ä¸­é—´ä»¶ä½¿å¾—ç³»ç»Ÿæ”¯æŒä¸­æ–‡">2ã€æ·»åŠ ä¸­é—´ä»¶ä½¿å¾—ç³»ç»Ÿæ”¯æŒä¸­æ–‡</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶MIDDLEWARE = [</span><br><span class="line">    &#x27;django.middleware.security.SecurityMiddleware&#x27;,</span><br><span class="line">    &#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;,</span><br><span class="line">    &#x27;django.middleware.common.CommonMiddleware&#x27;,</span><br><span class="line">    # æ·»åŠ ä¸­é—´ä»¶LocaleMiddlewareä»¥ä¾¿Adminåå°ç³»ç»Ÿæ”¯æŒä¸­æ–‡</span><br><span class="line">    &#x27;django.middleware.locale.LocaleMiddleware&#x27;,</span><br><span class="line">    &#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;,</span><br><span class="line">    &#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;,</span><br><span class="line">    &#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;,</span><br><span class="line">    &#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-åœ¨templatesä¸­é…ç½®æ¨¡æ¿æ–‡ä»¶å¤¹">3ã€åœ¨TEMPLATESä¸­é…ç½®æ¨¡æ¿æ–‡ä»¶å¤¹</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        &#x27;BACKEND&#x27;: &#x27;django.template.backends.django.DjangoTemplates&#x27;,</span><br><span class="line">        # å°†æ¨¡æ¿æ–‡ä»¶å¤¹templateså¼•å…¥Django</span><br><span class="line">        &#x27;DIRS&#x27;: [os.path.join(BASE_DIR, &#x27;templates&#x27;)],</span><br><span class="line">        &#x27;APP_DIRS&#x27;: True,</span><br><span class="line">        &#x27;OPTIONS&#x27;: &#123;</span><br><span class="line">            &#x27;context_processors&#x27;: [</span><br><span class="line">                &#x27;django.template.context_processors.debug&#x27;,</span><br><span class="line">                &#x27;django.template.context_processors.request&#x27;,</span><br><span class="line">                &#x27;django.contrib.auth.context_processors.auth&#x27;,</span><br><span class="line">                &#x27;django.contrib.messages.context_processors.messages&#x27;,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="4-åœ¨databasesä¸­é…ç½®æ•°æ®åº“mysql">4ã€åœ¨DATABASESä¸­é…ç½®æ•°æ®åº“MySQL</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶DATABASES = &#123;</span><br><span class="line">    &#x27;default&#x27;: &#123;</span><br><span class="line">        # é€‰æ‹©MySQLä½œä¸ºæˆ‘ä»¬é¡¹ç›®çš„æ•°æ®åº“</span><br><span class="line">        &#x27;ENGINE&#x27;: &#x27;django.db.backends.mysql&#x27;,</span><br><span class="line">        # æ•°æ®åº“çš„åå­—ä¸ºblogdb</span><br><span class="line">        &#x27;NAME&#x27;: &#x27;blogdb&#x27;,</span><br><span class="line">        &#x27;USER&#x27;: &#x27;root&#x27;,</span><br><span class="line">        &#x27;PASSWORD&#x27;: &#x27;123456&#x27;,</span><br><span class="line">        &#x27;HOST&#x27;: &#x27;127.0.0.1&#x27;,</span><br><span class="line">        &#x27;PORT&#x27;: &#x27;3306&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="5-é…ç½®é™æ€èµ„æºæ–‡ä»¶å¤¹å’Œåª’ä½“èµ„æºæ–‡ä»¶å¤¹">5ã€é…ç½®é™æ€èµ„æºæ–‡ä»¶å¤¹å’Œåª’ä½“èµ„æºæ–‡ä»¶å¤¹</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# é…ç½®è‡ªå®šä¹‰ç”¨æˆ·æ¨¡å‹MyUser</span><br><span class="line">AUTH_USER_MODEL = &#x27;account.MyUser&#x27;</span><br><span class="line"># è®¾ç½®é™æ€èµ„æºçš„ä¿å­˜è·¯å¾„</span><br><span class="line">STATIC_URL = &#x27;/static/&#x27;</span><br><span class="line">STATICFILES_DIRS = [os.path.join(BASE_DIR, &#x27;static&#x27;)]</span><br><span class="line"># è®¾ç½®åª’ä½“èµ„æºçš„ä¿å­˜è·¯å¾„,ç”¨äºå‰ç«¯è°ƒç”¨èµ„æº</span><br><span class="line">MEDIA_URL = &#x27;/media/&#x27;</span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, &#x27;media&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="äºŒ-åœ¨å„åº”ç”¨ä¸­çš„modelspyé…ç½®æ•°æ®æ¨¡å‹">äºŒã€åœ¨å„åº”ç”¨ä¸­çš„models.pyé…ç½®æ•°æ®æ¨¡å‹</span></h3><h5><span id="1-accountçš„modelspy">1ã€accountçš„models.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# æ¨¡å‹MyUserç»§æ‰¿å†…ç½®æ¨¡å‹Userï¼Œè¿™é‡Œç»§æ‰¿AbstractUserï¼ˆè¯¥ç±»ä¸ºUserçš„çˆ¶ç±»ï¼‰</span><br><span class="line">from django.db import models</span><br><span class="line">from django.contrib.auth.models import AbstractUser</span><br><span class="line">class MyUser(AbstractUser):</span><br><span class="line">    name = models.CharField(&#x27;å§“å&#x27;, max_length=50, default=&#x27;åŒ¿åç”¨æˆ·&#x27;)</span><br><span class="line">    introduce = models.TextField(&#x27;ç®€ä»‹&#x27;, default=&#x27;æš‚æ— ä»‹ç»&#x27;)</span><br><span class="line">    company = models.CharField(&#x27;å…¬å¸&#x27;, max_length=100, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    profession = models.CharField(&#x27;èŒä¸š&#x27;, max_length=100, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    address = models.CharField(&#x27;ä½å€&#x27;, max_length=100, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    telephone = models.CharField(&#x27;ç”µè¯&#x27;, max_length=11, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    wx = models.CharField(&#x27;å¾®ä¿¡&#x27;, max_length=50, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    qq = models.CharField(&#x27;QQ&#x27;, max_length=50, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    wb = models.CharField(&#x27;å¾®åš&#x27;,max_length=100, default=&#x27;æš‚æ— ä¿¡æ¯&#x27;)</span><br><span class="line">    photo = models.ImageField(&#x27;å¤´åƒ&#x27;, blank=True, upload_to=&#x27;images/user/&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.name</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-albumçš„modelpy">2ã€albumçš„model.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# AlbumInfoè®¾ç½®å¤–é”®å…³è”æ¨¡å‹MyUser</span><br><span class="line">from django.db import models</span><br><span class="line">from account.models import MyUser</span><br><span class="line">class AlbumInfo(models.Model):</span><br><span class="line">    id = models.AutoField(primary_key=True)</span><br><span class="line">    # è®¾ç½®å¤–é”®å…³è”</span><br><span class="line">    user = models.ForeignKey(MyUser, on_delete=models.CASCADE, verbose_name=&#x27;ç”¨æˆ·&#x27;)</span><br><span class="line">    title = models.CharField(&#x27;æ ‡é¢˜&#x27;, max_length=50, blank=True)</span><br><span class="line">    introduce = models.CharField(&#x27;æè¿°&#x27;, max_length=200, blank=True)</span><br><span class="line">    photo = models.ImageField(&#x27;å›¾ç‰‡&#x27;, blank=True, upload_to=&#x27;images/album/&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return str(self.id)</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;å›¾ç‰‡å¢™ç®¡ç†&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;å›¾ç‰‡å¢™ç®¡ç†&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-articleçš„modelpy">3ã€articleçš„model.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.db import models</span><br><span class="line">from django.utils import timezone</span><br><span class="line">from account.models import MyUser</span><br><span class="line"># æ¨¡å‹ArticleTagè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼Œä¸€å¯¹å¤šå…³ç³»ã€‚</span><br><span class="line">class ArticleTag(models.Model):</span><br><span class="line">    id = models.AutoField(primary_key=True)</span><br><span class="line">    tag = models.CharField(&#x27;æ ‡ç­¾&#x27;, max_length=500)</span><br><span class="line">    user = models.ForeignKey(MyUser, on_delete=models.CASCADE, verbose_name=&#x27;ç”¨æˆ·&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.tag</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;åšæ–‡åˆ†ç±»&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;åšæ–‡åˆ†ç±»&#x27;</span><br><span class="line"># æ¨¡å‹ArticleInfoè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼ˆä¸€å¯¹å¤šå…³ç³»ï¼‰ï¼Œä¸ArticleTagç»„æˆå¤šå¯¹å¤šå…³ç³»ã€‚</span><br><span class="line">class ArticleInfo(models.Model):</span><br><span class="line">    author = models.ForeignKey(MyUser, on_delete=models.CASCADE, verbose_name=&#x27;ç”¨æˆ·&#x27;)</span><br><span class="line">    title = models.CharField(&#x27;æ ‡é¢˜&#x27;, max_length=200)</span><br><span class="line">    content = models.TextField(&#x27;å†…å®¹&#x27;)</span><br><span class="line">    articlephoto = models.ImageField(&#x27;æ–‡ç« å›¾ç‰‡&#x27;, blank=True, upload_to=&#x27;images/article/&#x27;)</span><br><span class="line">    reading = models.IntegerField(&#x27;é˜…è¯»é‡&#x27;, default=0)</span><br><span class="line">    liking = models.IntegerField(&#x27;ç‚¹èµé‡&#x27;, default=0)</span><br><span class="line">    created = models.DateTimeField(&#x27;åˆ›å»ºæ—¶é—´&#x27;, default=timezone.now)</span><br><span class="line">    updated = models.DateTimeField(&#x27;æ›´æ–°æ—¶é—´&#x27;, auto_now=True)</span><br><span class="line">    article_tag = models.ManyToManyField(ArticleTag, blank=True, verbose_name=&#x27;æ–‡ç« æ ‡ç­¾&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.title</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;åšæ–‡ç®¡ç†&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;åšæ–‡ç®¡ç†&#x27;</span><br><span class="line"># æ¨¡å‹Commentå¯¹æ¨¡å‹ArticleInfoç»„æˆå¤šå¯¹å¤šå…³ç³»</span><br><span class="line">class Comment(models.Model):</span><br><span class="line">    article = models.ForeignKey(ArticleInfo, on_delete=models.CASCADE, verbose_name=&#x27;æ‰€å±æ–‡ç« &#x27;)</span><br><span class="line">    commentator = models.CharField(&#x27;è¯„è®ºç”¨æˆ·&#x27;, max_length=90)</span><br><span class="line">    content = models.TextField(&#x27;è¯„è®ºå†…å®¹&#x27;)</span><br><span class="line">    created = models.DateTimeField(&#x27;åˆ›å»ºæ—¶é—´&#x27;, auto_now=True)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.article.title</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;è¯„è®ºç®¡ç†&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;è¯„è®ºç®¡ç†&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="4-interflowçš„modelpy">4ã€interflowçš„model.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# æ¨¡å‹Boardè®¾æœ‰å¤–é”®å­—æ®µå…³è”æ¨¡å‹MyUserï¼Œä¸€å¯¹å¤šå…³ç³»ã€‚</span><br><span class="line">from django.db import models</span><br><span class="line">from account.models import MyUser</span><br><span class="line">from django.utils import timezone</span><br><span class="line">class Board(models.Model):</span><br><span class="line">    id = models.AutoField(primary_key=True)</span><br><span class="line">    name = models.CharField(&#x27;ç•™è¨€ç”¨æˆ·&#x27;, max_length=50)</span><br><span class="line">    email = models.CharField(&#x27;é‚®ç®±åœ°å€&#x27;, max_length=50)</span><br><span class="line">    content = models.CharField(&#x27;ç•™è¨€å†…å®¹&#x27;, max_length=500)</span><br><span class="line">    created = models.DateTimeField(&#x27;åˆ›å»ºæ—¶é—´&#x27;, default=timezone.now)</span><br><span class="line">    user = models.ForeignKey(MyUser, on_delete=models.CASCADE, verbose_name=&#x27;ç”¨æˆ·&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.email</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;åšå®¢ç•™è¨€&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;åšå®¢ç•™è¨€&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="ä¸‰-åˆ›å»ºæ•°æ®åº“å¹¶è¿›è¡Œæ•°æ®è¿ç§»">ä¸‰ã€åˆ›å»ºæ•°æ®åº“å¹¶è¿›è¡Œæ•°æ®è¿ç§»</span></h3><p><strong>å¯é€šè¿‡å¯è§†åŒ–è¿æ¥å·¥å…·Navicatåˆ›å»ºblogdbæ•°æ®åº“ï¼Œå­—ç¬¦é›†é€‰æ‹©utf8mb4ï¼Œåˆ›å»ºå¥½ä¾¿å¯è¿›è¡Œæ•°æ®è¿ç§»ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶ä¸€èˆ¬åœ¨åˆ›å»ºå¥½è¡¨å•ç±»åéœ€è¦è¿›è¡Œæ•°æ®è¿ç§»ï¼Œåœ¨Pycharmçš„Terminalçª—å£ä¸‹ï¼š</span><br><span class="line">python manage.py makemigrations # è®°å½•æ”¹åŠ¨ï¼Œæ²¡æœ‰ä½œç”¨åˆ°æ•°æ®åº“</span><br><span class="line">python manage.py migrate	    # å°†æ”¹åŠ¨å®ä¾‹åŒ–ï¼Œæ›´æ–°æ•°æ®åº“</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="å››-å®šä¹‰è·¯ç”±è·¯ç”±ç©ºé—´åˆ—è¡¨">å››ã€å®šä¹‰è·¯ç”±(è·¯ç”±ç©ºé—´)åˆ—è¡¨</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# MyBlogä¸‹çš„urls.py</span><br><span class="line">from django.contrib import admin</span><br><span class="line">from django.urls import path, include, re_path</span><br><span class="line">from django.views.static import serve</span><br><span class="line">from django.conf import settings</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    # Adminåå°ç³»ç»Ÿ</span><br><span class="line">    path(&#x27;admin/&#x27;, admin.site.urls),</span><br><span class="line">    # ç”¨æˆ·æ³¨å†Œä¸ç™»å½•</span><br><span class="line">    path(&#x27;user/&#x27;, include(&#x27;account.urls&#x27;)),</span><br><span class="line">    # åšå®¢æ–‡ç« </span><br><span class="line">    path(&#x27;&#x27;, include(&#x27;article.urls&#x27;)),</span><br><span class="line">    # å›¾ç‰‡å¢™</span><br><span class="line">    path(&#x27;album/&#x27;, include(&#x27;album.urls&#x27;)),</span><br><span class="line">    # ç•™è¨€æ¿</span><br><span class="line">    path(&#x27;board/&#x27;, include(&#x27;interflow.urls&#x27;)),</span><br><span class="line">    # é…ç½®åª’ä½“èµ„æºçš„è·¯ç”±ä¿¡æ¯ï¼Œå›ºå®šå†™æ³•ï¼Œè¿™é‡Œé…ç½®çš„æ˜¯mediaè·¯å¾„</span><br><span class="line">    re_path(&#x27;media/(?P&lt;path&gt;.*)&#x27;, serve, &#123;&#x27;document_root&#x27;:settings.MEDIA_ROOT&#125;, name=&#x27;media&#x27;),</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="äº”-ç¼–å†™å…±ç”¨æ¨¡æ¿">äº”ã€ç¼–å†™å…±ç”¨æ¨¡æ¿</span></h3><blockquote>
<p><strong>å…±ç”¨æ¨¡æ¿åˆç§°åŸºç±»æ¨¡æ¿base.html:</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &#123;% load staticfiles %&#125;</span><br><span class="line">    &lt;title&gt;&#123;% block title %&#125;æˆ‘çš„åšå®¢&#123;% endblock %&#125;&lt;/title&gt;</span><br><span class="line">    &lt;link href=&quot;&#123;% static &quot;css/base.css&quot; %&#125;&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;&#123;% static &quot;css/index.css&quot; %&#125;&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;&#123;% static &quot;css/m.css&quot; %&#125;&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;link href=&quot;&#123;% static &quot;css/info.css&quot; %&#125;&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/jquery.min.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/comm.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/modernizr.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/scrollReveal.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;header class=&quot;header-navigation&quot; id=&quot;header&quot;&gt;</span><br><span class="line">&lt;nav&gt;</span><br><span class="line">    &lt;div class=&quot;logo&quot;&gt;</span><br><span class="line">        &lt;a href=&quot;javascript:;&quot;&gt;åšå®¢é¦–é¡µ&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;h2 id=&quot;mnavh&quot;&gt;&lt;span class=&quot;navicon&quot;&gt;&lt;/span&gt;&lt;/h2&gt;</span><br><span class="line">    &lt;ul id=&quot;starlist&quot;&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;&#123;% url &#x27;article&#x27; id 1 %&#125;&quot;&gt;æˆ‘çš„æ—¥è®°&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;&#123;% url &#x27;album&#x27; id 1 %&#125;&quot;&gt;æˆ‘çš„ç›¸å†Œ&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;&#123;% url &#x27;about&#x27; id %&#125;&quot;&gt;å…³äºæˆ‘&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;&#123;% url &#x27;board&#x27; id 1 %&#125;&quot;&gt;ç•™è¨€&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;&#123;% url &#x27;admin:index&#x27; %&#125;&quot;&gt;åšå®¢åå°ç®¡ç†&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;/header&gt;</span><br><span class="line">&#123;% block body %&#125;</span><br><span class="line">&lt;article&gt;</span><br><span class="line">&lt;aside class=&quot;l_box&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;about_me&quot;&gt;</span><br><span class="line">        &lt;h2&gt;å…³äºæˆ‘&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &#123;% if user.photo %&#125;</span><br><span class="line">                &lt;i&gt;&lt;img src=&quot;&#123;&#123; user.photo.url &#125;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &#123;% else %&#125;</span><br><span class="line">                &lt;i&gt;&lt;img src=&quot;&#123;% static &#x27;images/user.jpg&#x27; %&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            &lt;b&gt;&#123;&#123; user.name &#125;&#125;&lt;/b&gt;,&#123;&#123; user.introduce &#125;&#125;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;wdxc&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æˆ‘çš„ç›¸å†Œ&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &#123;% for a in album %&#125;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">            &lt;a href=&quot;javascript:;&quot;&gt;</span><br><span class="line">                &lt;img src=&quot;&#123;&#123; a.photo.url &#125;&#125;&quot;&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;fenlei&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æ–‡ç« åˆ†ç±»&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &#123;% for t in tag %&#125;</span><br><span class="line">        &lt;li&gt;&lt;a href=&quot;/&quot;&gt;&#123;&#123; t.tag &#125;&#125;&lt;/a&gt; &lt;/li&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;tuijian&quot;&gt;</span><br><span class="line">    &lt;h2&gt;ç«™é•¿æ¨è&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">            &lt;a href=&quot;https://xiaozhou.top&quot; target=&quot;new&quot;&gt;å°å‘¨åšå®¢&lt;/a&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">            &lt;a href=&quot;https://www.youtube.com/&quot; target=&quot;new&quot;&gt;YouTubeé¦–é¡µ&lt;/a&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;links&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å‹æƒ…é“¾æ¥&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;a href=&quot;https://xiaozhou.top&quot; target=&quot;new&quot;&gt;å°å‘¨åšå®¢&lt;/a&gt;</span><br><span class="line">        &lt;a href=&quot;https://baidu.com&quot; target=&quot;new&quot;&gt;ç™¾åº¦é¦–é¡µ&lt;/a&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/aside&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block content %&#125;&#123;% endblock %&#125;.......4</span><br><span class="line">&lt;/article&gt;</span><br><span class="line">&lt;a href=&quot;#&quot; class=&quot;cd-top&quot;&gt;Top&lt;/a&gt;.......5</span><br><span class="line">&#123;% block script %&#125;&#123;% endblock %&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>é¡µé¢æ ·å¼å’ŒåŠŸèƒ½éœ€åœ¨cssåŠjsä¸­è¿›è¡Œè¿­ä»£ä¼˜åŒ–ï¼Œå¾…æå‡ï¼ï¼ï¼</strong></p>
<h2><span id="äºŒ-ç¼–å†™åŠŸèƒ½æ¨¡å—">äºŒã€ç¼–å†™åŠŸèƒ½æ¨¡å—</span></h2><h3><span id="ä¸€-æ³¨å†Œä¸ç™»å½•">ä¸€ã€æ³¨å†Œä¸ç™»å½•</span></h3><blockquote>
<p><strong>æ¨¡å‹MyUseræ˜¯å†…ç½®æ¨¡å‹Userçš„æ‰©å±•æ¨¡å‹ï¼Œç”¨äºä¿æŠ¤ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Djangoçš„Authè®¤è¯ç³»ç»Ÿå®ŒæˆMyUserçš„ç”¨æˆ·ç™»å½•ä¸æ³¨å†Œã€‚</strong></p>
</blockquote>
<h5><span id="1-accountçš„urlspy">1ã€accountçš„urls.py</span></h5><blockquote>
<p><strong>å®šä¹‰ç™»å½•ä¸æ³¨å†Œçš„è·¯ç”±ä¿¡æ¯</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">from django.urls import path</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # ç”¨æˆ·æ³¨å†Œ</span><br><span class="line">    path(&#x27;register.html&#x27;, register, name=&#x27;register&#x27;)</span><br><span class="line">    # ç”¨æˆ·ç™»å½•</span><br><span class="line">    path(&#x27;login.html&#x27;, userLogin, name=&#x27;userLogin&#x27;)</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-accountçš„viewspy">2ã€accountçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.shortcuts import render, redirect</span><br><span class="line">from .models import MyUser</span><br><span class="line">from django.contrib.auth import login,logout,authenticate</span><br><span class="line">from django.urls import reverse</span><br><span class="line">def register(request):</span><br><span class="line">    title = &#x27;æ³¨å†Œåšå®¢&#x27;</span><br><span class="line">    pageTitle = &#x27;ç”¨æˆ·æ³¨å†Œ&#x27;</span><br><span class="line">    confirmPassword = True</span><br><span class="line">    button = &#x27;æ³¨å†Œ&#x27;</span><br><span class="line">    urlText = &#x27;ç”¨æˆ·ç™»å½•&#x27;</span><br><span class="line">    urlName = &#x27;userLogin&#x27;</span><br><span class="line">    if request.method == &quot;POST&quot;:</span><br><span class="line">        name = request.POST.get(&#x27;username&#x27;,&#x27;&#x27;)</span><br><span class="line">        pwd = request.POST.get(&#x27;password&#x27;,&#x27;&#x27;)</span><br><span class="line">        cp = request.POST.get(&#x27;cp&#x27;,&#x27;&#x27;)</span><br><span class="line">        if MyUser.objects.filter(username=name):</span><br><span class="line">            tips = &#x27;ç”¨æˆ·å·²å­˜åœ¨&#x27;</span><br><span class="line">        elif cp!=pwd:</span><br><span class="line">            tips = &#x27;ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´&#x27;</span><br><span class="line">        else:</span><br><span class="line">            d = &#123;</span><br><span class="line">                &#x27;username&#x27;: name,</span><br><span class="line">                &#x27;password&#x27;: pwd,</span><br><span class="line">                &#x27;is_superuser&#x27;: 1,# è®¾ä¸ºè¶…çº§ç®¡ç†å‘˜èº«ä»½</span><br><span class="line">                &#x27;is_staff&#x27;: 1     # æ¿€æ´»ç”¨æˆ·çŠ¶æ€</span><br><span class="line">            &#125;</span><br><span class="line">            user = MyUser.objects.create_user(**d)</span><br><span class="line">            user.save()</span><br><span class="line">            tips = &#x27;æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•&#x27;</span><br><span class="line">            logout(request)  # å†…ç½®å‡½æ•°ï¼Œæ³¨é”€è´¦æˆ·</span><br><span class="line">            return redirect(reverse(&#x27;userLogin&#x27;))</span><br><span class="line">    return render(request, &#x27;user.html&#x27;, locals())</span><br><span class="line"></span><br><span class="line">def userLogin(request):</span><br><span class="line">    title = &#x27;ç™»å½•åšå®¢&#x27;</span><br><span class="line">    pageTitle = &#x27;ç”¨æˆ·ç™»å½•&#x27;</span><br><span class="line">    button = &#x27;ç™»å½•&#x27;</span><br><span class="line">    urlText = &#x27;ç”¨æˆ·æ³¨å†Œ&#x27;</span><br><span class="line">    urlName = &#x27;register&#x27;</span><br><span class="line">    if request.method == &#x27;POST&#x27;:</span><br><span class="line">        name = request.POST.get(&#x27;username&#x27;, &#x27;&#x27;)</span><br><span class="line">        pwd = request.POST.get(&#x27;password&#x27;, &#x27;&#x27;)</span><br><span class="line">        if MyUser.objects.filter(username=name):</span><br><span class="line">            user = authenticate(username=name, password=pwd) # ä½¿ç”¨å†…ç½®å‡½æ•°éªŒè¯ç™»å½•</span><br><span class="line">            if user:</span><br><span class="line">                if user.is_active:</span><br><span class="line">                    login(request, user)</span><br><span class="line">                kwargs = &#123;&#x27;id&#x27;:request.user.id, &#x27;page&#x27;:1&#125;</span><br><span class="line">                return redirect(reverse(&#x27;article&#x27;, kwargs=kwargs))</span><br><span class="line">            else:</span><br><span class="line">                tips = &#x27;è´¦å·å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥&#x27;</span><br><span class="line">        else:</span><br><span class="line">            tips = &#x27;ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè¯·æ³¨å†Œ&#x27;</span><br><span class="line">    else:</span><br><span class="line">        if request.user.username:</span><br><span class="line">            kwargs = &#123;&#x27;id&#x27;:request.user.id, &#x27;page&#x27;: 1&#125;</span><br><span class="line">            return redirect(reverse(&#x27;article&#x27;, kwargs=kwargs))</span><br><span class="line">    return render(request, &#x27;user.html&#x27;, locals())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢userhtml">3ã€å‰ç«¯é¡µé¢user.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &#123;% load static %&#125;</span><br><span class="line">    &lt;title&gt;&#123;&#123; title &#125;&#125;&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;&#123;% static &quot;css/reset.css&quot; %&#125;&quot;&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot;, href=&quot;&#123;% static &quot;css/user.css&quot; %&#125;&quot;&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/jquery.min.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;&#123;% static &quot;js/user.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;page&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;loginwarrp&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;login&quot;&gt;&#123;&#123; pageTitle &#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;login_form&quot;&gt;</span><br><span class="line">            &lt;form name=&quot;Login&quot; method=&quot;post&quot; action=&quot;&quot;&gt;</span><br><span class="line">                &#123;% csrf_token %&#125;</span><br><span class="line">                &lt;li class=&quot;login-item&quot;&gt;</span><br><span class="line">                    &lt;span&gt;ç”¨æˆ·åï¼š&lt;/span&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;login_input&quot;&gt;</span><br><span class="line">                    &lt;span id=&quot;count-msg&quot; class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">                &lt;li class=&quot;login-item&quot;&gt;</span><br><span class="line">                    &lt;span&gt;å¯†ç ï¼š&lt;/span&gt;</span><br><span class="line">                    &lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;login_input&quot;&gt;</span><br><span class="line">                    &lt;span id=&quot;password-msg&quot; class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">                &#123;% if confirmPassword %&#125;</span><br><span class="line">                    &lt;li class=&quot;login-item&quot;&gt;</span><br><span class="line">                        &lt;span&gt;ç¡®è®¤å¯†ç ï¼š&lt;/span&gt;</span><br><span class="line">                        &lt;input type=&quot;password&quot; name=&quot;cp&quot; class=&quot;login_input&quot;&gt;</span><br><span class="line">                        &lt;span id=&quot;password-msg&quot; class=&quot;error&quot;&gt;&lt;/span&gt;</span><br><span class="line">                    &lt;/li&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">            &lt;div&gt;&#123;&#123; tips &#125;&#125;&lt;/div&gt;</span><br><span class="line">            &lt;li class=&quot;login-sub&quot;&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;Submit&quot; value=&quot;&#123;&#123; button &#125;&#125;&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;turn-url&quot;&gt;</span><br><span class="line">                    &lt;a style=&quot;color: #45B572&quot; href=&quot;&#123;% url urlName %&#125;&quot;&gt;&#123;&#123; urlText &#125;&#125;&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    window.onload = function () &#123;  &lt;!--é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ--&gt;</span><br><span class="line">        var config =&#123;</span><br><span class="line">            vx : 4,         &lt;!--ç‚¹xè½´é€Ÿåº¦,æ­£ä¸ºå³ï¼Œè´Ÿä¸ºå·¦--&gt;</span><br><span class="line">            vy : 4,         &lt;!--ç‚¹yè½´é€Ÿåº¦--&gt;</span><br><span class="line">            height : 2,     &lt;!--ç‚¹é«˜å®½ï¼Œå…¶å®ä¸ºæ­£æ–¹å½¢ï¼Œæ‰€ä»¥ä¸å®œå¤ªå¤§--&gt;</span><br><span class="line">            width : 2,      &lt;!----&gt;</span><br><span class="line">            count : 100,    &lt;!--ç‚¹ä¸ªæ•°--&gt;</span><br><span class="line">            color : &quot;121, 162, 185&quot;,  &lt;!--ç‚¹é¢œè‰²--&gt;</span><br><span class="line">            stroke : &quot;100, 200, 180&quot;, &lt;!--çº¿æ¡é¢œè‰²--&gt;</span><br><span class="line">            dist : 6000,            &lt;!--ç‚¹å¸é™„è·ç¦»--&gt;</span><br><span class="line">            e_dist : 20000,         &lt;!--é¼ æ ‡å¸é™„åŠ é€Ÿè·ç¦»--&gt;</span><br><span class="line">            max_conn : 10           &lt;!--ç‚¹åˆ°ç‚¹æœ€å¤§è¿æ¥æ•°--&gt;</span><br><span class="line">        &#125;</span><br><span class="line">        CanvasParticle(config)      &lt;!--å®ç°ç½‘é¡µèƒŒæ™¯ç²’å­æ•ˆæœ--&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">    &#123;# å¼•å…¥ç½‘é¡µèƒŒæ™¯ç²’å­js #&#125;</span><br><span class="line">&lt;script src=&quot;&#123;% static &quot;js/canvas-particle.js&quot; %&#125;&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="äºŒ-åšä¸»èµ„æ–™ä¿¡æ¯">äºŒã€åšä¸»èµ„æ–™ä¿¡æ¯</span></h3><blockquote>
<p><strong>åšä¸»èµ„æ–™ä¿¡æ¯ä½¿ç”¨æ¨¡æ¿æ–‡ä»¶about.htmlç”Ÿæˆé¡µé¢å†…å®¹ï¼Œç”¨æˆ·ä¿¡æ¯æ¥è‡ªæ¨¡å‹MyUserï¼Œåœ¨é¡¹ç›®åº”ç”¨accountä¸­å®ç°åšä¸»èµ„æ–™ä¿¡æ¯ç½‘é¡µåŠŸèƒ½ã€‚</strong></p>
</blockquote>
<h5><span id="1-accountçš„urlspy">1ã€accountçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åªéœ€æ·»åŠ â€œå…³äºæˆ‘â€çš„è·¯ç”±ä¿¡æ¯</span><br><span class="line">from django.urls import path</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # ç”¨æˆ·æ³¨å†Œ</span><br><span class="line">    path(&#x27;register.html&#x27;, register, name=&#x27;register&#x27;),</span><br><span class="line">    # ç”¨æˆ·ç™»å½•</span><br><span class="line">    path(&#x27;login.html&#x27;, userLogin, name=&#x27;userLogin&#x27;),</span><br><span class="line">    # å…³äºæˆ‘ï¼Œæ­¤å¤„æ·»åŠ ï¼Œæ ¹æ®ç”¨æˆ·idè¿”å›ä¸åŒçš„ä¿¡æ¯</span><br><span class="line">    path(&#x27;about/&lt;int:id&gt;.html&#x27;, about, name=&#x27;about&#x27;)</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-accountçš„viewspy">2ã€accountçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åªéœ€åœ¨å¼•å…¥ä¸¤ä¸ªè¡¨çš„æ¨¡å—ï¼Œå¹¶æ·»åŠ aboutè§†å›¾</span><br><span class="line">from album.models import AlbumInfo</span><br><span class="line">from article.models import ArticleTag</span><br><span class="line"># æ ¹æ®ç”¨æˆ·idï¼Œä»ä¸‰å¼ è¡¨ä¸­æŸ¥è¯¢è¿”å›ä¸åŒçš„ä¿¡æ¯</span><br><span class="line">def about(request, id):</span><br><span class="line">    album = AlbumInfo.objects.filter(user_id=id)</span><br><span class="line">    tag = ArticleTag.objects.filter(user_id=id)</span><br><span class="line">    user = MyUser.objects.filter(id=id).first()</span><br><span class="line">    return render(request, &#x27;about.html&#x27;, locals())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢abouthtml">3ã€å‰ç«¯é¡µé¢about.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&#123;% extends &quot;base.html&quot; %&#125; &lt;!--ç»§æ‰¿æ¨¡æ¿æ–‡ä»¶base.html--&gt;</span><br><span class="line">&#123;% block content %&#125;       &lt;!--é‡å†™Contentæ¥å£--&gt;</span><br><span class="line">    &lt;main class=&quot;r_box&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;about&quot;&gt;</span><br><span class="line">            &lt;div&gt;&#123;&#123; user.introduce &#125;&#125;&lt;/div&gt;</span><br><span class="line">            &lt;br&gt;&lt;hr&gt;&lt;br&gt;</span><br><span class="line">            &lt;h2&gt;æˆ‘çš„èµ„æ–™&lt;/h2&gt;</span><br><span class="line">            &lt;br&gt;</span><br><span class="line">            &lt;p&gt;åå­—ï¼š&#123;&#123; user.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;p&gt;å¾®åšï¼š&#123;&#123; user.wb &#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;p&gt;å¾®ä¿¡ï¼š&#123;&#123; user.wx &#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;p&gt;QQ:&#123;&#123; user.qq &#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="ä¸‰-å›¾ç‰‡å¢™åŠŸèƒ½">ä¸‰ã€å›¾ç‰‡å¢™åŠŸèƒ½</span></h3><blockquote>
<p><strong>å›¾ç‰‡å¢™åŠŸèƒ½å°†ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Šï¼Œå›¾ç‰‡ä»¥åˆ†é¡µæ–¹å¼æ˜¾ç¤ºï¼Œæ¯ä¸€é¡µåˆ†ä¸ºä¸¤åˆ—ï¼Œæ¯åˆ—æ˜¾ç¤ºå››å¼ å›¾ç‰‡ã€‚</strong></p>
</blockquote>
<h5><span id="1-albumçš„urlspy">1ã€albumçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åœ¨albumä¸­å®šä¹‰è·¯ç”±ä¿¡æ¯</span><br><span class="line">from django.urls import path</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # å›¾ç‰‡å¢™</span><br><span class="line">    path(&#x27;&lt;int:id&gt;/&lt;int:page&gt;.html&#x27;, album, name=&#x27;album&#x27;)</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-albumçš„viewspy">2ã€albumçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.shortcuts import render</span><br><span class="line">from django.core.paginator import Paginator, PageNotAnInteger, EmptyPage</span><br><span class="line">from .models import AlbumInfo</span><br><span class="line">def album(request, id, page):</span><br><span class="line">    albumList = AlbumInfo.objects.filter(user_id=id).order_by(&#x27;id&#x27;)</span><br><span class="line">    # åˆ†é¡µï¼Œå…«ä¸ªä¸€é¡µ</span><br><span class="line">    paginator = Paginator(albumList, 8)</span><br><span class="line">    try:</span><br><span class="line">        # è£…è½½è¿›åˆ†é¡µå¯¹è±¡pageInfo</span><br><span class="line">        pageInfo = paginator.page(page)</span><br><span class="line">    except PageNotAnInteger:</span><br><span class="line">        # å¦‚æœå‚æ•°pageçš„æ•°æ®ç±»å‹ä¸æ˜¯æ•´å‹ï¼Œå°±è¿”å›ç¬¬ä¸€é¡µæ•°æ®</span><br><span class="line">        pageInfo = paginator.page(1)</span><br><span class="line">    except EmptyPage:</span><br><span class="line">        # è‹¥ç”¨æˆ·è®¿é—®çš„é¡µæ•°å¤§äºå®é™…é¡µæ•°ï¼Œåˆ™è¿”å›æœ€åä¸€é¡µçš„æ•°æ®</span><br><span class="line">        pageInfo = paginator.page(paginator.num_pages)</span><br><span class="line">    return render(request, &#x27;album.html&#x27;, locals())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢albumhtml">3ã€å‰ç«¯é¡µé¢album.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&#123;% extends &quot;base.html&quot; %&#125;</span><br><span class="line">&lt;!--é‡å†™bodyæ¥å£ï¼Œè®¾ç½®ä¸ºç©ºï¼Œå› ä¸ºä¸éœ€è¦è¿™éƒ¨åˆ†--&gt;</span><br><span class="line">&#123;% block body %&#125;&#123;% endblock %&#125;</span><br><span class="line">&lt;!--é‡å†™contenæ¥å£--&gt;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;article&gt;</span><br><span class="line">    &lt;div class=&quot;picbox&quot;&gt;</span><br><span class="line">        &#123;% for list in pageInfo.object_list %&#125;</span><br><span class="line">            &lt;div class=&quot;picvalue&quot; data-scroll-reveal=&quot;enter bottom over 1s&quot;&gt;</span><br><span class="line">            &lt;a href=&quot;javascript:;&quot;&gt;</span><br><span class="line">                &lt;!--list.photo.urlæ˜¯æ¨¡å‹å­—æ®µphotoçš„è·¯å¾„åœ°å€--&gt;</span><br><span class="line">                &lt;i&gt;&lt;img src=&quot;&#123;&#123; list.photo.url &#125;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;div class=&quot;picinfo&quot;&gt;</span><br><span class="line">                    &#123;% if list.title %&#125;</span><br><span class="line">                        &lt;h3&gt;&#123;&#123; list.title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">                    &#123;% else %&#125;</span><br><span class="line">                        &lt;h3&gt;ç›¸å†Œå›¾ç‰‡&lt;/h3&gt;</span><br><span class="line">                    &#123;% endif %&#125;</span><br><span class="line">                    &#123;% if list.introduce %&#125;</span><br><span class="line">                        &lt;span&gt;&#123;&#123; list.introduce &#125;&#125;&lt;/span&gt;</span><br><span class="line">                    &#123;% else %&#125;</span><br><span class="line">                        &lt;span&gt;å›¾ç‰‡ç®€ä»‹&lt;/span&gt;</span><br><span class="line">                    &#123;% endif %&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!--åˆ†é¡µåŠŸèƒ½--&gt;</span><br><span class="line">    &lt;div class=&quot;pagelist&quot;&gt;</span><br><span class="line">        &#123;% if pageInfo.has_previous %&#125;</span><br><span class="line">        &lt;a href=&quot;&#123;% url &#x27;album&#x27; id pageInfo.previous_page_number %&#125;&quot;&gt;ä¸Šä¸€é¡µ&lt;/a&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">        &#123;% for page in pageInfo.paginator.page_range %&#125;</span><br><span class="line">            &#123;% if pageInfo.number == page %&#125;</span><br><span class="line">            &lt;a href=&quot;javascript:;&quot; class=&quot;curPage&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">            &#123;% else %&#125;</span><br><span class="line">            &lt;a href=&quot;&#123;% url &#x27;album&#x27; id page %&#125;&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">        &#123;% if pageInfo.has_next %&#125;</span><br><span class="line">            &lt;a href=&quot;&#123;% url &#x27;album&#x27; id pageInfo.next_page_number %&#125;&quot;&gt;ä¸‹ä¸€é¡µ&lt;/a&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;/article&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block script %&#125;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        if(!(/msie [6|7|8|9]/i.test(navigator.userAgent)))&#123;</span><br><span class="line">            (function()&#123;</span><br><span class="line">                window.scrollReveal = new scrollReveal(&#123;reset: true&#125;);</span><br><span class="line">        &#125;)();</span><br><span class="line">        &#125;;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="å››-ç•™è¨€æ¿åŠŸèƒ½">å››ã€ç•™è¨€æ¿åŠŸèƒ½</span></h3><blockquote>
<p>ç•™è¨€æ¿åŠŸèƒ½åœ¨é¡¹ç›®åº”ç”¨interflowä¸­å®ç°ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼šç•™è¨€ä¿¡æ¯å±•ç¤ºå’Œç•™è¨€æäº¤ã€‚</p>
</blockquote>
<h5><span id="1-interflowçš„urlspy">1ã€interflowçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">from django.urls import path</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # ç•™è¨€æ¿</span><br><span class="line">    path(&#x27;&lt;int:id&gt;/&lt;int:page&gt;.html&#x27;, board, name=&#x27;board&#x27;),</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-interflowçš„viewspy">2ã€interflowçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.shortcuts import render,redirect</span><br><span class="line">from django.core.paginator import Paginator,PageNotAnInteger,EmptyPage</span><br><span class="line">from article.models import ArticleTag</span><br><span class="line">from account.models import MyUser</span><br><span class="line">from album.models import AlbumInfo</span><br><span class="line">from .models import Board</span><br><span class="line">from django.urls import reverse</span><br><span class="line">def board(request, id, page):</span><br><span class="line">    album = AlbumInfo.objects.filter(user_id=id)</span><br><span class="line">    tag = ArticleTag.objects.filter(user_id=id)</span><br><span class="line">    user = MyUser.objects.filter(id=id).first()</span><br><span class="line">    if not user:</span><br><span class="line">        return redirect(reverse(&#x27;register&#x27;))</span><br><span class="line">    if request.method == &#x27;GET&#x27;:</span><br><span class="line">        boardList = Board.objects.filter(user_id=id).order_by(&#x27;-created&#x27;)</span><br><span class="line">        paginator = Paginator(boardList, 10)</span><br><span class="line">        try:</span><br><span class="line">            pageInfo = paginator.page(page)</span><br><span class="line">        except PageNotAnInteger:</span><br><span class="line">            pageInfo = paginator.page(1)</span><br><span class="line">        except EmptyPage:</span><br><span class="line">            pageInfo = paginator.page(paginator.num_pages)</span><br><span class="line">        return render(request, &#x27;board.html&#x27;, locals())</span><br><span class="line">    else:</span><br><span class="line">        name = request.POST.get(&#x27;name&#x27;)</span><br><span class="line">        email = request.POST.get(&#x27;email&#x27;)</span><br><span class="line">        content = request.POST.get(&#x27;content&#x27;)</span><br><span class="line">        value = &#123;</span><br><span class="line">            &#x27;name&#x27;: name,</span><br><span class="line">            &#x27;email&#x27;: email,</span><br><span class="line">            &#x27;content&#x27;: content,</span><br><span class="line">            &#x27;user_id&#x27;: id,</span><br><span class="line">        &#125;</span><br><span class="line">        Board.objects.create(**value)</span><br><span class="line">        kwargs = &#123;&#x27;id&#x27;: id, &#x27;page&#x27;: 1&#125;</span><br><span class="line">        return redirect(reverse(&#x27;board&#x27;, kwargs=kwargs))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢boardhtml">3ã€å‰ç«¯é¡µé¢board.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&#123;% extends &#x27;base.html&#x27; %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line">&lt;!--æ¨¡æ¿é‡å†™--&gt;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;main class=&quot;r_box&quot;&gt;</span><br><span class="line">    &lt;!--ç•™è¨€åˆ—è¡¨--&gt;</span><br><span class="line">    &lt;div class=&quot;gbook&quot;&gt;</span><br><span class="line">        &#123;% for list in pageInfo.object_list %&#125;</span><br><span class="line">            &lt;div class=&quot;fb&quot;&gt;</span><br><span class="line">            &lt;ul style=&quot;background: url(&#123;% static &quot;images/user.jpg&quot; %&#125;) no-repeat top 20px left 10px;&quot;&gt;</span><br><span class="line">                &lt;p class=&quot;fbtime&quot;&gt;</span><br><span class="line">                    &lt;span&gt;&#123;&#123; list.created|date:&quot;Y-m-d&quot; &#125;&#125;&lt;/span&gt;</span><br><span class="line">                    &#123;&#123; list.name &#125;&#125;</span><br><span class="line">                &lt;/p&gt;</span><br><span class="line">                &lt;p class=&quot;fbinfo&quot;&gt;&#123;&#123; list.content &#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;!--åˆ†é¡µåŠŸèƒ½--&gt;</span><br><span class="line">    &lt;div class=&quot;pagelist&quot;&gt;</span><br><span class="line">        &#123;% if pageInfo.has_previous %&#125;</span><br><span class="line">        &lt;a href=&quot;&#123;% url &#x27;board&#x27; id pageInfo.previous_page_number %&#125;&quot;&gt;ä¸Šä¸€é¡µ&lt;/a&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">        &#123;% if pageInfo.object_list %&#125;</span><br><span class="line">            &#123;% for page in pageInfo.paginator.page_range %&#125;</span><br><span class="line">                &#123;% if pageInfo.number == page %&#125;</span><br><span class="line">                &lt;a href=&quot;javascript:;&quot; class=&quot;curPage&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">                &#123;% else %&#125;</span><br><span class="line">                &lt;a href=&quot;&#123;% url &#x27;board&#x27; id page %&#125;&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">            &#123;% endfor %&#125;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">        &#123;% if pageInfo.has_next %&#125;</span><br><span class="line">            &lt;a href=&quot;&#123;% url &#x27;board&#x27; id pageInfo.next_page_number %&#125;&quot;&gt;ä¸‹ä¸€é¡µ&lt;/a&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;!--é¡µé¢è¡¨å•--&gt;</span><br><span class="line">    &lt;div class=&quot;gbox&quot;&gt;</span><br><span class="line">        &lt;form action=&quot;&quot; method=&quot;post&quot; name=&quot;saypl&quot; onsubmit=&quot;return CheckPl(document.saypl)&quot;&gt;</span><br><span class="line">            &#123;% csrf_token %&#125;</span><br><span class="line">            &lt;p&gt;&lt;strong&gt;æ¥è¯´ç‚¹ä»€ä¹ˆå§ã€‚ã€‚ã€‚&lt;/strong&gt;&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;&lt;span&gt;æ‚¨çš„å§“åï¼š&lt;/span&gt;</span><br><span class="line">                &lt;input name=&quot;name&quot; type=&quot;text&quot; id=&quot;name&quot;&gt;</span><br><span class="line">            *&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;&lt;span&gt;è”ç³»é‚®ç®±ï¼š&lt;/span&gt;</span><br><span class="line">                &lt;input name=&quot;email&quot; type=&quot;text&quot; id=&quot;email&quot;&gt;</span><br><span class="line">            *&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;&lt;span class=&quot;tnr&quot;&gt;ç•™è¨€å†…å®¹ï¼š&lt;/span&gt;</span><br><span class="line">                &lt;textarea name=&quot;content&quot; cols=&quot;60&quot; rows=&quot;12&quot; id=&quot;lytext&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">            &lt;p&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;Submit3&quot; value=&quot;æäº¤&quot;&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&lt;!--æ¨¡æ¿é‡å†™--&gt;</span><br><span class="line">&#123;% block script %&#125;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function CheckPl(obj)&#123;</span><br><span class="line">            if(obj.lytext.value==&quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;è¯·å†™ä¸‹æ‚¨æƒ³è¯´çš„è¯ï¼&quot;);</span><br><span class="line">                obj.lytext.focus();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">            if(obj.name.value==&quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;è¯·ç•™ä¸‹æ‚¨çš„åå­—ï¼&quot;);</span><br><span class="line">                obj.name.focus();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">            if(obj.email.value==&quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;è¯·ç•™ä¸‹æ‚¨çš„é‚®ç®±åœ°å€ï¼&quot;);</span><br><span class="line">                &lt;!--focusæ˜¯å°†å…‰æ ‡æ”¾åˆ°ç›¸åº”çš„è¾“å…¥æ¡†ä¸­--&gt;</span><br><span class="line">                obj.email.focus();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="äº”-æ–‡ç« åˆ—è¡¨åŠŸèƒ½">äº”ã€æ–‡ç« åˆ—è¡¨åŠŸèƒ½</span></h3><blockquote>
<p><strong>è¯¥åŠŸèƒ½æ˜¯å°†å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æ–‡ç« è¿›è¡Œåˆ†é¡µæ˜¾ç¤ºã€‚æˆ‘åœ¨é¡¹ç›®åº”ç”¨articleä¸­å®ç°è¯¥åŠŸèƒ½çš„å¼€å‘ã€‚</strong></p>
</blockquote>
<h5><span id="1-articleçš„urlspy">1ã€articleçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">from django.urls import path</span><br><span class="line">from django.views.generic import RedirectView</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # é¦–é¡µåœ°å€è‡ªåŠ¨è·³è½¬åˆ°ç”¨æˆ·ç™»å½•é¡µé¢</span><br><span class="line">    path(&#x27;&#x27;, RedirectView.as_view(url=&#x27;user/login.html&#x27;)),</span><br><span class="line">    # æ–‡ç« åˆ—è¡¨</span><br><span class="line">    path(&#x27;&lt;int:id&gt;/&lt;int:page&gt;.html&#x27;, article, name=&#x27;article&#x27;),</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-articleçš„viewspy">2ã€articleçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.shortcuts import render, redirect</span><br><span class="line">from account.models import MyUser</span><br><span class="line">from album.models import AlbumInfo</span><br><span class="line">from django.core.paginator import Paginator,PageNotAnInteger,EmptyPage</span><br><span class="line">from .models import ArticleTag,ArticleInfo</span><br><span class="line">from django.urls import reverse</span><br><span class="line">def article(request, id, page):</span><br><span class="line">    album = AlbumInfo.objects.filter(user_id=id)</span><br><span class="line">    tag = ArticleTag.objects.filter(user_id=id)</span><br><span class="line">    user = MyUser.objects.filter(id=id).first()</span><br><span class="line">    if not user:</span><br><span class="line">        return redirect(reverse(&#x27;register&#x27;))</span><br><span class="line">    ats = ArticleInfo.objects.filter(author_id=id).order_by(&#x27;-created&#x27;)</span><br><span class="line">    paginator = Paginator(ats, 10)</span><br><span class="line">    try:</span><br><span class="line">        pageInfo = paginator.page(page)</span><br><span class="line">    except PageNotAnInteger:</span><br><span class="line">        # å¦‚æœå‚æ•°pageçš„æ•°æ®ç±»å‹ä¸æ˜¯æ•´å‹ï¼Œå°±è¿”å›ç¬¬ä¸€é¡µæ•°æ®</span><br><span class="line">        pageInfo = paginator.page(1)</span><br><span class="line">    except EmptyPage:</span><br><span class="line">        # è‹¥ç”¨æˆ·è®¿é—®çš„é¡µæ•°å¤§äºå®é™…é¡µæ•°ï¼Œåˆ™è¿”å›æœ€åä¸€é¡µçš„æ•°æ®</span><br><span class="line">        pageInfo = paginator.page(paginator.num_pages)</span><br><span class="line">    return render(request, &#x27;article.html&#x27;, locals())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢articlehtml">3ã€å‰ç«¯é¡µé¢article.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&#123;% extends &quot;base.html&quot; %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;!--æ–‡ç« åˆ—è¡¨--&gt;</span><br><span class="line">    &lt;main class=&quot;r_box&quot;&gt;</span><br><span class="line">        &#123;% for list in pageInfo.object_list %&#125;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;i&gt;&lt;a href=&quot;&#123;% url &#x27;detail&#x27; id list.id %&#125;&quot;&gt;</span><br><span class="line">                    &#123;% if list.articlephoto %&#125;</span><br><span class="line">                        &lt;img src=&quot;&#123;&#123; list.articlephoto.url &#125;&#125;&quot;&gt;</span><br><span class="line">                    &#123;% else %&#125;</span><br><span class="line">                        &lt;img src=&quot;&#123;% static &#x27;images/pic.png&#x27; %&#125;&quot;&gt;</span><br><span class="line">                    &#123;% endif %&#125;</span><br><span class="line">                &lt;/a&gt; &lt;/i&gt;</span><br><span class="line">            &lt;h3&gt;</span><br><span class="line">                &lt;a href=&quot;&#123;% url &#x27;detail&#x27; id list.id %&#125;&quot;&gt;</span><br><span class="line">                    &#123;&#123; list.title &#125;&#125;</span><br><span class="line">                &lt;/a&gt;</span><br><span class="line">            &lt;/h3&gt;</span><br><span class="line">            &lt;p&gt;&#123;&#123; list.content | safe &#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">        &lt;!--åˆ†é¡µåŠŸèƒ½--&gt;</span><br><span class="line">        &lt;div class=&quot;pagelist&quot;&gt;</span><br><span class="line">            &#123;% if pageInfo.has_previous %&#125;</span><br><span class="line">                &lt;a href=&quot;&#123;% url &#x27;article&#x27; id pageInfo.previous_page_number %&#125;&quot;&gt;ä¸Šä¸€é¡µ&lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">            &#123;% if pageInfo.object_list %&#125;</span><br><span class="line">                &#123;% for page in pageInfo.paginator.page_range %&#125;</span><br><span class="line">                    &#123;% if pageInfo.number == page %&#125;</span><br><span class="line">                        &lt;a href=&quot;javascript:;&quot; class=&quot;curPage&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">                    &#123;% else %&#125;</span><br><span class="line">                        &lt;a href=&quot;&#123;% url &#x27;article&#x27; id page %&#125;&quot;&gt;&#123;&#123; page &#125;&#125;&lt;/a&gt;</span><br><span class="line">                    &#123;% endif %&#125;</span><br><span class="line">                    &#123;% endfor %&#125;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">            &#123;% if pageInfo.has_next %&#125;</span><br><span class="line">                &lt;a href=&quot;&#123;% url &#x27;article&#x27; id pageInfo.next_page_number %&#125;&quot;&gt;ä¸‹ä¸€é¡µ&lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="å…­-æ–‡ç« æ­£æ–‡å†…å®¹">å…­ã€æ–‡ç« æ­£æ–‡å†…å®¹</span></h3><blockquote>
<p><strong>æ–‡ç« æ­£æ–‡å†…å®¹æ˜¾ç¤ºæ–‡ç« æ ‡é¢˜ã€é˜…è¯»é‡ã€å‘å¸ƒæ—¶é—´ã€ä½œè€…ã€æ–‡ç« å†…å®¹å’Œè¯„è®ºå†…å®¹ã€‚æˆ‘åœ¨é¡¹ç›®åº”ç”¨articleä¸­å®ç°è¯¥åŠŸèƒ½çš„å¼€å‘ã€‚</strong></p>
</blockquote>
<h5><span id="1-articleçš„urlspy">1ã€articleçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åªéœ€æ·»åŠ å¯¹åº”æ­£æ–‡å†…å®¹çš„è·¯ç”±ä¿¡æ¯</span><br><span class="line">from django.urls import path</span><br><span class="line">from django.views.generic import RedirectView</span><br><span class="line">from .views import *</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # é¦–é¡µåœ°å€è‡ªåŠ¨è·³è½¬åˆ°ç”¨æˆ·ç™»å½•é¡µé¢</span><br><span class="line">    path(&#x27;&#x27;, RedirectView.as_view(url=&#x27;user/login.html&#x27;)),</span><br><span class="line">    # æ–‡ç« åˆ—è¡¨</span><br><span class="line">    path(&#x27;&lt;int:id&gt;/&lt;int:page&gt;.html&#x27;, article, name=&#x27;article&#x27;),</span><br><span class="line">    # ï¼ˆæ­¤å¤„æ·»åŠ ï¼‰æ–‡ç« æ­£æ–‡å†…å®¹:å‚æ•°å¯¹åº”id:ç”¨æˆ·IDï¼ŒaId:æ–‡ç« id</span><br><span class="line">    path(&#x27;detail/&lt;int:id&gt;/&lt;int:aId&gt;.html&#x27;, detail, name=&#x27;detail&#x27;),</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-articleçš„viewspy">2ã€articleçš„views.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åªéœ€æ·»åŠ å¯¹ç”¨çš„è§†å›¾å‡½æ•°ï¼Œä»¥åŠå¯¼å…¥ç›¸åº”çš„æ¨¡å—</span><br><span class="line">from .models import Comment</span><br><span class="line">from django.db.models import F</span><br><span class="line">def detail(request, id, aId):</span><br><span class="line">    album = AlbumInfo.objects.filter(user_id=id)</span><br><span class="line">    tag = ArticleTag.objects.filter(user_id=id)</span><br><span class="line">    user = MyUser.objects.filter(id=id).first()</span><br><span class="line">    if request.method == &#x27;GET&#x27;:</span><br><span class="line">        ats = ArticleInfo.objects.filter(id=aId).first()</span><br><span class="line">        atags = ArticleInfo.objects.get(id=aId).article_tag.all()</span><br><span class="line">        cms = Comment.objects.filter(article_id=aId).order_by(&#x27;-created&#x27;)</span><br><span class="line">        # å¢åŠ é˜…è¯»é‡</span><br><span class="line">        if not request.session.get(&#x27;reading&#x27; + str(id) + str(aId), &#x27;&#x27;):</span><br><span class="line">            reading = ArticleInfo.objects.filter(id=aId)</span><br><span class="line">            reading.update(reading=F(&#x27;reading&#x27;) + 1)</span><br><span class="line">            request.session[&#x27;reading&#x27; + str(id) + str(aId)] = True</span><br><span class="line">        return render(request, &#x27;detail.html&#x27;, locals())</span><br><span class="line">    else:</span><br><span class="line">        commentator = request.POST.get(&#x27;name&#x27;)</span><br><span class="line">        email = request.POST.get(&#x27;email&#x27;)</span><br><span class="line">        content = request.POST.get(&#x27;content&#x27;)</span><br><span class="line">        value = &#123;</span><br><span class="line">            &#x27;commentator&#x27; : commentator,</span><br><span class="line">            &#x27;content&#x27; : content,</span><br><span class="line">            &#x27;article_id&#x27;: aId</span><br><span class="line">        &#125;</span><br><span class="line">        Comment.objects.create(**value)</span><br><span class="line">        kwargs = &#123;</span><br><span class="line">            &#x27;id&#x27;: id,</span><br><span class="line">            &#x27;aId&#x27;: aId</span><br><span class="line">        &#125;</span><br><span class="line">        return redirect(reverse(&#x27;detail&#x27;, kwargs=kwargs))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-å‰ç«¯é¡µé¢detailhtml">3ã€å‰ç«¯é¡µé¢detail.html</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶&#123;% extends &quot;base.html&quot; %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line">&lt;!--æ¨¡æ¿é‡å†™--&gt;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">        &lt;div class=&quot;infosbox&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;newsview&quot;&gt;</span><br><span class="line">                &lt;!--æ–‡ç« æ ‡é¢˜--&gt;</span><br><span class="line">                &lt;h3 class=&quot;news_title&quot;&gt;&#123;&#123; ats.title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">                &lt;!--ä½œè€…ã€å‘å¸ƒæ—¶é—´ã€é˜…è¯»é‡--&gt;</span><br><span class="line">                &lt;div class=&quot;bloginfo&quot;&gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li class=&quot;author&quot;&gt;ä½œè€…ï¼š</span><br><span class="line">                            &lt;a href=&quot;javascript:;&quot;&gt;&#123;&#123; user.name &#125;&#125;&lt;/a&gt;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                        &lt;li class=&quot;timer&quot;&gt;</span><br><span class="line">                            æ—¶é—´ï¼š&#123;&#123; ats.created|date:&quot;Y-m-d&quot; &#125;&#125;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                        &lt;li class=&quot;view&quot;&gt;</span><br><span class="line">                            é˜…è¯»é‡ï¼š&#123;&#123; ats.reading &#125;&#125;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;!--æ–‡ç« æ ‡ç­¾--&gt;</span><br><span class="line">                &lt;div class=&quot;tags&quot;&gt;</span><br><span class="line">                    &#123;% for t in atags %&#125;</span><br><span class="line">                        &lt;a href=&quot;javascript:;&quot;&gt;&#123;&#123; t &#125;&#125;&lt;/a&gt;</span><br><span class="line">                    &#123;% endfor %&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;!--æ­£æ–‡å†…å®¹--&gt;</span><br><span class="line">                &lt;div class=&quot;news_con&quot;&gt;</span><br><span class="line">                    &#123;&#123; ats.content|safe &#125;&#125;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;news_pl&quot;&gt;</span><br><span class="line">            &lt;h2&gt;æ–‡ç« è¯„è®º&lt;/h2&gt;</span><br><span class="line">            &lt;div class=&quot;gbko&quot;&gt;</span><br><span class="line">                &lt;!--è¯„è®ºå±•ç¤º--&gt;</span><br><span class="line">                &#123;% for c in cms %&#125;</span><br><span class="line">                    &lt;div class=&quot;fb&quot;&gt;</span><br><span class="line">                        &lt;ul style=&quot;background: url(&#123;% static &quot;images/user.jpg&quot; %&#125;) no-repeat top 20px left 10px;&quot;&gt;</span><br><span class="line">                            &lt;p class=&quot;fbtime&quot;&gt;</span><br><span class="line">                                &lt;span&gt;&#123;&#123; c.created|date:&quot;Y-m-d&quot; &#125;&#125;&lt;/span&gt;</span><br><span class="line">                                &#123;&#123; c.commentator &#125;&#125;</span><br><span class="line">                            &lt;/p&gt;</span><br><span class="line">                            &lt;p class=&quot;fbinfo&quot;&gt;&#123;&#123; c.content &#125;&#125;&lt;/p&gt;</span><br><span class="line">                        &lt;/ul&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line">                &lt;!--æäº¤è¯„è®ºçš„ç½‘é¡µè¡¨å•--&gt;</span><br><span class="line">                &lt;form action=&quot;&quot; method=&quot;post&quot; name=&quot;saypl&quot; onsubmit=&quot;return CheckPl(document.saypl)&quot;&gt;</span><br><span class="line">                    &lt;div id=&quot;plpost&quot;&gt;</span><br><span class="line">                        &#123;% csrf_token %&#125;</span><br><span class="line">                        &lt;p class=&quot;saying&quot;&gt;</span><br><span class="line">                            &lt;span&gt;</span><br><span class="line">                                &lt;a href=&quot;javascript:;&quot;&gt;å…±æœ‰&#123;&#123; cms|length &#125;&#125;æ¡è¯„è®º&lt;/a&gt;</span><br><span class="line">                            &lt;/span&gt;</span><br><span class="line">                            æ¥è¯´ä¸¤å¥å§ã€‚ã€‚ã€‚</span><br><span class="line">                        &lt;/p&gt;</span><br><span class="line">                        &lt;p class=&quot;yname&quot;&gt;&lt;span&gt;åç§°ï¼š&lt;/span&gt;</span><br><span class="line">                            &lt;input name=&quot;name&quot; id=&quot;name&quot; type=&quot;text&quot; class=&quot;input_Text&quot; size=&quot;16&quot;&gt;</span><br><span class="line">                        &lt;/p&gt;</span><br><span class="line">                        &lt;textarea name=&quot;content&quot; rows=&quot;6&quot; id=&quot;saytext&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">                        &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/form&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&lt;!--æ¨¡æ¿é‡å†™--&gt;</span><br><span class="line">&#123;% block script %&#125;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function CheckPl(obj) &#123;</span><br><span class="line">            if(obj.saytext.value==&quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;è¯·å†™ä¸‹æ‚¨æƒ³è¯´çš„è¯ï¼&quot;);</span><br><span class="line">                obj.saytext.focus();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;if(obj.name.value==&quot;&quot;)&#123;</span><br><span class="line">                alert(&quot;è¯·ç•™ä¸‹æ‚¨çš„åå­—ï¼&quot;);</span><br><span class="line">                obj.name.focus();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="ä¸ƒ-adminåå°ç³»ç»Ÿ">ä¸ƒã€Adminåå°ç³»ç»Ÿ</span></h3><blockquote>
<p><strong>é¡¹ç›®æ¨¡å‹å­˜å‚¨äº†æ‰€æœ‰ç”¨æˆ·çš„æ•°æ®ä¿¡æ¯ï¼Œä½†æ¯ä¸ªç”¨æˆ·ç™»å½•Adminåå°ç³»ç»Ÿåªèƒ½ç®¡ç†è‡ªå·±çš„æ•°æ®ä¿¡æ¯ï¼Œå› æ­¤æ¯ä¸ªæ¨¡å‹çš„ModelAdminå¿…é¡»é‡å†™æ–¹æ³•formfield_for_foreignkey()å’Œget_queryset()ã€‚</strong></p>
</blockquote>
<h5><span id="1-accountçš„adminpy">1ã€accountçš„admin.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.contrib import admin</span><br><span class="line">from .models import MyUser</span><br><span class="line">from django.contrib.auth.admin import UserAdmin</span><br><span class="line">from django.utils.translation import gettext_lazy as g_l</span><br><span class="line">@admin.register(MyUser)</span><br><span class="line">class MyUserAdmin(UserAdmin):</span><br><span class="line">    # æ•°æ®åˆ—è¡¨é¡µå±•ç¤ºçš„æ¨¡å‹å­—æ®µ</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;username&#x27;,</span><br><span class="line">        &#x27;email&#x27;,</span><br><span class="line">        &#x27;name&#x27;,</span><br><span class="line">        &#x27;introduce&#x27;,</span><br><span class="line">        &#x27;company&#x27;,</span><br><span class="line">        &#x27;profession&#x27;,</span><br><span class="line">        &#x27;address&#x27;,</span><br><span class="line">        &#x27;telephone&#x27;,</span><br><span class="line">        &#x27;wx&#x27;,</span><br><span class="line">        &#x27;qq&#x27;,</span><br><span class="line">        &#x27;wb&#x27;,</span><br><span class="line">        &#x27;photo&#x27;</span><br><span class="line">    ]</span><br><span class="line">    # åœ¨ä¿®æ”¹ç•Œé¢æ·»åŠ &#x27;mobile&#x27;ï¼Œ&#x27;qq&#x27;ï¼Œ&#x27;weChat&#x27;</span><br><span class="line">    # å°†æºç çš„UserAdmin.fieldsets</span><br><span class="line">    fieldsets = list(UserAdmin.fieldsets)</span><br><span class="line">    # é‡å†™UserAdminçš„fieldsetsï¼Œæ·»åŠ æ¨¡å‹å­—æ®µä¿¡æ¯å½•å…¥</span><br><span class="line">    fieldsets[1] = (g_l(&#x27;Personal info&#x27;), &#123;</span><br><span class="line">        &#x27;fields&#x27;:(</span><br><span class="line">            &#x27;name&#x27;,</span><br><span class="line">            &#x27;introduce&#x27;,</span><br><span class="line">            &#x27;email&#x27;,</span><br><span class="line">            &#x27;company&#x27;,</span><br><span class="line">            &#x27;profession&#x27;,</span><br><span class="line">            &#x27;address&#x27;,</span><br><span class="line">            &#x27;telephone&#x27;,</span><br><span class="line">            &#x27;wx&#x27;,</span><br><span class="line">            &#x27;qq&#x27;,</span><br><span class="line">            &#x27;wb&#x27;,</span><br><span class="line">            &#x27;photo&#x27;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line">    # æ ¹æ®å½“å‰ç”¨æˆ·åè®¾ç½®æ•°æ®è®¿é—®æƒé™</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(id=request.user.id)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-albumçš„adminpy">2ã€albumçš„admin.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.contrib import admin</span><br><span class="line">from .models import AlbumInfo</span><br><span class="line">from account.models import MyUser</span><br><span class="line">@admin.register(AlbumInfo)</span><br><span class="line">class AlbumInfoAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;id&#x27;,</span><br><span class="line">        &#x27;user&#x27;,</span><br><span class="line">        &#x27;title&#x27;,</span><br><span class="line">        &#x27;introduce&#x27;,</span><br><span class="line">        &#x27;photo&#x27;</span><br><span class="line">    ]</span><br><span class="line">    # æ ¹æ®å½“å‰ç”¨æˆ·åè®¾ç½®æ•°æ®è®¿é—®æƒé™</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(user_id=request.user.id)</span><br><span class="line">    # æ–°å¢æˆ–ä¿®æ”¹æ•°æ®æ—¶ã€‚è®¾ç½®å¤–é”®å¯é€‰å€¼</span><br><span class="line">    def formfield_for_foreignkey(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;user&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = MyUser.objects.filter(id=id)</span><br><span class="line">        return super().formfield_for_foreignkey(db_field, request, **kwargs)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-articleçš„adminpy">3ã€articleçš„admin.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.contrib import admin</span><br><span class="line">from .models import *</span><br><span class="line"># è®¾ç½®ç½‘ç«™titleæ ‡é¢˜</span><br><span class="line">admin.site.site_title = &#x27;åšå®¢ç®¡ç†åå°&#x27;</span><br><span class="line"># è®¾ç½®ç½‘ç«™headerå¤´éƒ¨</span><br><span class="line">admin.site.site_header = &#x27;åšå®¢ç®¡ç†&#x27;</span><br><span class="line">@admin.register(ArticleTag)</span><br><span class="line">class ArticleTagAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;id&#x27;,</span><br><span class="line">        &#x27;tag&#x27;,</span><br><span class="line">        &#x27;user&#x27;</span><br><span class="line">    ]</span><br><span class="line">    # æ ¹æ®å½“å‰ç”¨æˆ·åè®¾ç½®æ•°æ®è®¿é—®æƒé™</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(user_id=request.user.id)</span><br><span class="line">    # æ–°å¢æˆ–ä¿®æ”¹æ•°æ®æ—¶ï¼Œè®¾ç½®å¤–é”®å¯é€‰å€¼</span><br><span class="line">    def formfield_for_foreignkey(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;user&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = MyUser.objects.filter(id=id)</span><br><span class="line">        return super().formfield_for_foreignkey(db_field, request, **kwargs)</span><br><span class="line"></span><br><span class="line">@admin.register(ArticleInfo)</span><br><span class="line">class ArticleInfoAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;author&#x27;,</span><br><span class="line">        &#x27;title&#x27;,</span><br><span class="line">        &#x27;content&#x27;,</span><br><span class="line">        &#x27;articlephoto&#x27;,</span><br><span class="line">        &#x27;created&#x27;,</span><br><span class="line">        &#x27;updated&#x27;</span><br><span class="line">    ]</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(author_id=request.user.id)</span><br><span class="line">    # é’ˆå¯¹å¤šå¯¹å¤šä½¿ç”¨è¯¥æ–¹æ³•</span><br><span class="line">    def formfield_for_manytomany(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;article_tag&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = ArticleTag.objects.filter(user_id=id)</span><br><span class="line">    # é’ˆå¯¹ä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šä½¿ç”¨è¯¥æ–¹æ³•</span><br><span class="line">    def formfield_for_foreignkey(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;author&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = MyUser.objects.filter(id=id)</span><br><span class="line">        return super().formfield_for_foreignkey(db_field, request, **kwargs)</span><br><span class="line"></span><br><span class="line">@admin.register(Comment)</span><br><span class="line">class CommentAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;article&#x27;,</span><br><span class="line">        &#x27;commentator&#x27;,</span><br><span class="line">        &#x27;content&#x27;,</span><br><span class="line">        &#x27;created&#x27;</span><br><span class="line">    ]</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(article_author_id=request.user.id)</span><br><span class="line">    def formfield_for_foreignkey(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;article&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = Comment.objects.filter(article__author_id=id)</span><br><span class="line">        return super().formfield_for_foreignkey(db_field, request, **kwargs)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="4-interflowçš„adminpy">4ã€interflowçš„admin.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.contrib import admin</span><br><span class="line">from .models import Board</span><br><span class="line">from account.models import MyUser</span><br><span class="line">@admin.register(Board)</span><br><span class="line">class BoardAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = [</span><br><span class="line">        &#x27;id&#x27;,</span><br><span class="line">        &#x27;name&#x27;,</span><br><span class="line">        &#x27;email&#x27;,</span><br><span class="line">        &#x27;content&#x27;,</span><br><span class="line">        &#x27;created&#x27;,</span><br><span class="line">        &#x27;user&#x27;</span><br><span class="line">    ]</span><br><span class="line">    def get_queryset(self, request):</span><br><span class="line">        qs = super().get_queryset(request)</span><br><span class="line">        return qs.filter(user_id=request.user.id)</span><br><span class="line">    def formfield_for_foreignkey(self, db_field, request, **kwargs):</span><br><span class="line">        if db_field.name == &#x27;user&#x27;:</span><br><span class="line">            id = request.user.id</span><br><span class="line">            kwargs[&#x27;queryset&#x27;] = MyUser.objects.filter(id=id)</span><br><span class="line">        return super().formfield_for_foreignkey(db_field, request, **kwargs)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="5-accountçš„__init__py">5ã€accountçš„__init__.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.apps import AppConfig</span><br><span class="line">import os</span><br><span class="line"># ä¿®æ”¹appåœ¨adminåå°æ˜¾ç¤ºçš„åç§°</span><br><span class="line"># default_app_configçš„å€¼æ¥è‡ªapps.pyçš„ç±»å</span><br><span class="line">default_app_config = &#x27;account.IndexConfig&#x27;</span><br><span class="line"># è·å–å½“å‰appçš„å‘½å</span><br><span class="line">def get_current_app_name(_file):</span><br><span class="line">    return os.path.split(os.path.dirname(_file))[-1]</span><br><span class="line"># é‡å†™ç±»IndexConfig</span><br><span class="line">class IndexConfig(AppConfig):</span><br><span class="line">    name = get_current_app_name(__file__)</span><br><span class="line">    verbose_name = &#x27;ç”¨æˆ·ç®¡ç†&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="6-albumçš„__init__py">6ã€albumçš„__init__.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.apps import AppConfig</span><br><span class="line">import os</span><br><span class="line"># ä¿®æ”¹appåœ¨adminåå°æ˜¾ç¤ºçš„åç§°</span><br><span class="line"># default_app_configçš„å€¼æ¥è‡ªapps.pyçš„ç±»å</span><br><span class="line">default_app_config = &#x27;album.IndexConfig&#x27;</span><br><span class="line"># è·å–å½“å‰appçš„å‘½å</span><br><span class="line">def get_current_app_name(_file):</span><br><span class="line">    return os.path.split(os.path.dirname(_file))[-1]</span><br><span class="line"># é‡å†™ç±»IndexConfig</span><br><span class="line">class IndexConfig(AppConfig):</span><br><span class="line">    name = get_current_app_name(__file__)</span><br><span class="line">    verbose_name = &#x27;æˆ‘çš„å›¾ç‰‡å¢™&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="7-articleçš„__init__py">7ã€articleçš„__init__.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.apps import AppConfig</span><br><span class="line">import os</span><br><span class="line"># ä¿®æ”¹appåœ¨adminåå°æ˜¾ç¤ºçš„åç§°</span><br><span class="line"># default_app_configçš„å€¼æ¥è‡ªapps.pyçš„ç±»å</span><br><span class="line">default_app_config = &#x27;article.IndexConfig&#x27;</span><br><span class="line"># è·å–å½“å‰appçš„å‘½å</span><br><span class="line">def get_current_app_name(_file):</span><br><span class="line">    return os.path.split(os.path.dirname(_file))[-1]</span><br><span class="line"># é‡å†™ç±»IndexConfig</span><br><span class="line">class IndexConfig(AppConfig):</span><br><span class="line">    name = get_current_app_name(__file__)</span><br><span class="line">    verbose_name = &#x27;åšå®¢ç®¡ç†&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="8-interflowçš„__init__py">8ã€interflowçš„__init__.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.apps import AppConfig</span><br><span class="line">import os</span><br><span class="line"># ä¿®æ”¹appåœ¨adminåå°æ˜¾ç¤ºçš„åç§°</span><br><span class="line"># default_app_configçš„å€¼æ¥è‡ªapps.pyçš„ç±»å</span><br><span class="line">default_app_config = &#x27;interflow.IndexConfig&#x27;</span><br><span class="line"># è·å–å½“å‰appçš„å‘½å</span><br><span class="line">def get_current_app_name(_file):</span><br><span class="line">    return os.path.split(os.path.dirname(_file))[-1]</span><br><span class="line"># é‡å†™ç±»IndexConfig</span><br><span class="line">class IndexConfig(AppConfig):</span><br><span class="line">    name = get_current_app_name(__file__)</span><br><span class="line">    verbose_name = &#x27;ç•™è¨€ç®¡ç†&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="å…«-è‡ªå®šä¹‰adminç™»å½•é¡µ">å…«ã€è‡ªå®šä¹‰Adminç™»å½•é¡µ</span></h3><blockquote>
<p><strong>Djangoå†…ç½®Adminåå°ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç™»å½•é¡µé¢ã€‚è¿™æ ·ä¸æˆ‘å†™çš„ç™»å½•åŠŸèƒ½å†²çªï¼Œæ‰€ä»¥æˆ‘å°†Adminåå°ç³»ç»Ÿçš„ç™»å½•é¡µé¢æ”¹ä¸ºé¡¹ç›®åº”ç”¨accountå®ç°çš„ç™»å½•é¡µé¢.</strong></p>
</blockquote>
<h5><span id="1-myblogçš„myadminpy">1ã€MyBlogçš„myadmin.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# é‡å†™çˆ¶ç±»admin_view()å’Œget_urls()æ–¹æ³•,åªéœ€æ”¹åŠ¨ä¸¤å¤„ï¼ï¼ï¼å·²åœ¨ä»£ç ä¸­æ³¨é‡Š</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">from django.contrib import admin</span><br><span class="line">from functools import update_wrapper</span><br><span class="line">from django.views.generic import RedirectView</span><br><span class="line">from django.urls import reverse</span><br><span class="line">from django.views.decorators.cache import never_cache</span><br><span class="line">from django.views.decorators.csrf import csrf_protect</span><br><span class="line">from django.http import HttpResponseRedirect</span><br><span class="line">from django.urls import include, path, re_path</span><br><span class="line">from django.contrib.contenttypes import views as contenttype_views</span><br><span class="line">from django.contrib.auth.views import redirect_to_login</span><br><span class="line">class MyAdminSite(admin.AdminSite):</span><br><span class="line">    def admin_view(self, view, cacheable=False):</span><br><span class="line">        def inner(request, *args, **kwargs):</span><br><span class="line">            if not self.has_permission(request):</span><br><span class="line">                if request.path == reverse(&#x27;admin:logout&#x27;, current_app=self.name):</span><br><span class="line">                    index_path = reverse(&#x27;admin:index&#x27;, current_app=self.name)</span><br><span class="line">                    return HttpResponseRedirect(index_path)</span><br><span class="line">                # ä¿®æ”¹æ³¨é”€åé‡æ–°ç™»å½•çš„è·¯ç”±åœ°å€</span><br><span class="line">                return redirect_to_login(request.get_full_path(), &#x27;/user/login.html&#x27;)</span><br><span class="line">            return view(request, *args, **kwargs)</span><br><span class="line">        if not cacheable:</span><br><span class="line">            inner = never_cache(inner)</span><br><span class="line">        if not getattr(view, &#x27;csrf_exempt&#x27;, False):</span><br><span class="line">            inner = csrf_protect(inner)</span><br><span class="line">        return update_wrapper(inner, view)</span><br><span class="line"></span><br><span class="line">    def get_urls(self):</span><br><span class="line">        def wrap(view, cacheable=False):</span><br><span class="line">            def wrapper(*args, **kwargs):</span><br><span class="line">                return self.admin_view(view, cacheable)(*args, **kwargs)</span><br><span class="line">            wrapper.admin_site = self</span><br><span class="line">            return update_wrapper(wrapper, view)</span><br><span class="line">        urlpatterns = [</span><br><span class="line">            path(&#x27;&#x27;, wrap(self.index), name=&#x27;index&#x27;),</span><br><span class="line">            # ä¿®æ”¹ç™»å½•é¡µé¢çš„è·¯ç”±åœ°å€</span><br><span class="line">            path(&#x27;login/&#x27;, RedirectView.as_view(url=&#x27;/user/login.html&#x27;)),</span><br><span class="line">            path(&#x27;logout/&#x27;, wrap(self.logout), name=&#x27;logout&#x27;),</span><br><span class="line">            path(&#x27;password_change/&#x27;, wrap(self.password_change, cacheable=True), name=&#x27;password_change&#x27;),</span><br><span class="line">            path(</span><br><span class="line">                &#x27;password_change/done/&#x27;,</span><br><span class="line">                wrap(self.password_change_done, cacheable=True),</span><br><span class="line">                name=&#x27;password_change_done&#x27;,</span><br><span class="line">            ),</span><br><span class="line">            path(&#x27;jsi18n/&#x27;, wrap(self.i18n_javascript, cacheable=True), name=&#x27;jsi18n&#x27;),</span><br><span class="line">            path(</span><br><span class="line">                &#x27;r/&lt;int:content_type_id&gt;/&lt;path:object_id&gt;/&#x27;,</span><br><span class="line">                wrap(contenttype_views.shortcut),</span><br><span class="line">                name=&#x27;view_on_site&#x27;,</span><br><span class="line">            ),</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        valid_app_labels = []</span><br><span class="line">        for model, model_admin in self._registry.items():</span><br><span class="line">            urlpatterns += [</span><br><span class="line">                path(&#x27;%s/%s/&#x27; % (model._meta.app_label, model._meta.model_name), include(model_admin.urls)),</span><br><span class="line">            ]</span><br><span class="line">            if model._meta.app_label not in valid_app_labels:</span><br><span class="line">                valid_app_labels.append(model._meta.app_label)</span><br><span class="line"></span><br><span class="line">        if valid_app_labels:</span><br><span class="line">            regex = r&#x27;^(?P&lt;app_label&gt;&#x27; + &#x27;|&#x27;.join(valid_app_labels) + &#x27;)/$&#x27;</span><br><span class="line">            urlpatterns += [</span><br><span class="line">                re_path(regex, wrap(self.app_index), name=&#x27;app_list&#x27;),</span><br><span class="line">            ]</span><br><span class="line">        return urlpatterns</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-myblogçš„myappspy">2ã€MyBlogçš„myapps.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">from django.contrib.admin.apps import AdminConfig</span><br><span class="line">class MyAdminConfig(AdminConfig):</span><br><span class="line">    default_site = &#x27;MyBlog.myadmin.MyAdminSite&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="3-myblogçš„settingspy">3ã€MyBlogçš„settings.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶INSTALLED_APPS = [</span><br><span class="line">    # &#x27;django.contrib.admin&#x27;,</span><br><span class="line">    # æ³¨é‡Šæ‰åŸæœ‰çš„adminï¼Œæ¢æˆæˆ‘ä»¬é‡å†™çš„ç±»</span><br><span class="line">    &#x27;MyBlog.myapps.MyAdminConfig&#x27;,</span><br><span class="line">    &#x27;django.contrib.auth&#x27;,</span><br><span class="line">    &#x27;django.contrib.contenttypes&#x27;,</span><br><span class="line">    &#x27;django.contrib.sessions&#x27;,</span><br><span class="line">    &#x27;django.contrib.messages&#x27;,</span><br><span class="line">    &#x27;django.contrib.staticfiles&#x27;,</span><br><span class="line">    &#x27;account&#x27;,</span><br><span class="line">    &#x27;album&#x27;,</span><br><span class="line">    &#x27;article&#x27;,</span><br><span class="line">    &#x27;interflow&#x27;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2><span id="ä¸‰-django-ckeditor">ä¸‰ã€Django CKEditor</span></h2><blockquote>
<p><strong>æ¨¡å‹å­—æ®µcontentåªè´Ÿè´£å­˜å‚¨æ–‡ç« å†…å®¹ï¼Œå®ƒä¸ä¼šå¯¹æ–‡ç« å†…å®¹è¿›è¡Œæ’ç‰ˆå¸ƒå±€ï¼Œå¦‚æœè¦ç¼–å†™æ’ç‰ˆæ•´é½ã€å¸ƒå±€ç²¾ç¾çš„åšå®¢æ–‡ç« ï¼Œå°±éœ€è¦å¼•è¿›Djangoçš„ç¬¬ä¸‰æ–¹åŠŸèƒ½åº”ç”¨Django CKEditorç”Ÿæˆæ–‡ç« ç¼–è¾‘å™¨ã€‚</strong></p>
</blockquote>
<h3><span id="ä¸€-å®‰è£…">ä¸€ã€å®‰è£…</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å®‰è£…æŒ‡ä»¤</span><br><span class="line">pip install django-ckeditor</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="äºŒ-myblogçš„settingpy">äºŒã€MyBlogçš„setting.py</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶INSTALLED_APPS = [</span><br><span class="line">    # &#x27;django.contrib.admin&#x27;,</span><br><span class="line">    # æ³¨é‡Šæ‰åŸæœ‰çš„adminï¼Œæ¢æˆæˆ‘ä»¬é‡å†™çš„ç±»</span><br><span class="line">    &#x27;MyBlog.myapps.MyAdminConfig&#x27;</span><br><span class="line">    &#x27;django.contrib.auth&#x27;,</span><br><span class="line">    &#x27;django.contrib.contenttypes&#x27;,</span><br><span class="line">    &#x27;django.contrib.sessions&#x27;,</span><br><span class="line">    &#x27;django.contrib.messages&#x27;,</span><br><span class="line">    &#x27;django.contrib.staticfiles&#x27;,</span><br><span class="line">    &#x27;account&#x27;,</span><br><span class="line">    &#x27;album&#x27;,</span><br><span class="line">    &#x27;article&#x27;,</span><br><span class="line">    &#x27;interflow&#x27;,</span><br><span class="line">    # æ·»åŠ Django CKEditor</span><br><span class="line">    &#x27;ckeditor&#x27;,</span><br><span class="line">    &#x27;ckeditor_uploader&#x27;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"># ç¼–è¾‘å™¨çš„é…ç½®ä¿¡æ¯</span><br><span class="line"># è®¾ç½®ä¸Šä¼ å›¾ç‰‡çš„è·¯å¾„ï¼Œåªèƒ½åœ¨åª’ä½“èµ„æºè·¯å¾„Mediaä¸‹ï¼Œæ­¤æ—¶åˆ«å¿˜äº†åœ¨mediaä¸‹åˆ›å»ºarticle_imagesæ–‡ä»¶å¤¹</span><br><span class="line">CKEDITOR_UPLOAD_PATH = &#x27;article_images&#x27;</span><br><span class="line">CKEDITOR_CONFIGS = &#123;</span><br><span class="line">    &#x27;default&#x27;:&#123;</span><br><span class="line">        &#x27;toolbar&#x27;:&#x27;Full&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">CKEDITOR_ALLOW_NONIMAGE_FILES = False</span><br><span class="line">CKEDITOR_BROWSE_SHOW_DIRS = True</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="ä¸‰-ç›¸åº”æ–‡ä»¶çš„æ›´æ”¹">ä¸‰ã€ç›¸åº”æ–‡ä»¶çš„æ›´æ”¹</span></h3><h5><span id="1-myblogçš„urlspy">1ã€MyBlogçš„urls.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶from django.contrib import admin</span><br><span class="line">from django.urls import path, include, re_path</span><br><span class="line">from django.views.static import serve</span><br><span class="line">from django.conf import settings</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    # Adminåå°ç³»ç»Ÿ</span><br><span class="line">    path(&#x27;admin/&#x27;, admin.site.urls),</span><br><span class="line">    # ç”¨æˆ·æ³¨å†Œä¸ç™»å½•</span><br><span class="line">    path(&#x27;user/&#x27;, include(&#x27;account.urls&#x27;)),</span><br><span class="line">    # åšå®¢æ–‡ç« </span><br><span class="line">    path(&#x27;&#x27;, include(&#x27;article.urls&#x27;)),</span><br><span class="line">    # å›¾ç‰‡å¢™</span><br><span class="line">    path(&#x27;album/&#x27;, include(&#x27;album.urls&#x27;)),</span><br><span class="line">    # ç•™è¨€æ¿</span><br><span class="line">    path(&#x27;board/&#x27;, include(&#x27;interflow.urls&#x27;)),</span><br><span class="line">    # é…ç½®åª’ä½“èµ„æºçš„è·¯ç”±ä¿¡æ¯ï¼Œå›ºå®šå†™æ³•ï¼Œè¿™é‡Œé…ç½®çš„æ˜¯mediaè·¯å¾„</span><br><span class="line">    re_path(&#x27;media/(?P&lt;path&gt;.*)&#x27;, serve, &#123;&#x27;document_root&#x27;:settings.MEDIA_ROOT&#125;, name=&#x27;media&#x27;),</span><br><span class="line">    # è®¾ç½®ç¼–è¾‘å™¨çš„è·¯ç”±ä¿¡æ¯</span><br><span class="line">    path(&#x27;ckeditor/&#x27;, include(&#x27;ckeditor_uploader.urls&#x27;)),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5><span id="2-articleçš„modelspy">2ã€articleçš„models.py</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# æ­¤å¤„åªéœ€å¯¼å…¥å­—æ®µç±»å‹ï¼Œæ›´æ”¹contentå­—æ®µç±»å‹å³å¯</span><br><span class="line"># å¯¼å…¥ç¼–è¾‘å™¨å®šä¹‰çš„å­—æ®µç±»å‹</span><br><span class="line">from ckeditor_uploader.fields import RichTextUploadingField</span><br><span class="line">class ArticleInfo(models.Model):</span><br><span class="line">    author = models.ForeignKey(MyUser, on_delete=models.CASCADE, verbose_name=&#x27;ç”¨æˆ·&#x27;)</span><br><span class="line">    title = models.CharField(&#x27;æ ‡é¢˜&#x27;, max_length=200)</span><br><span class="line">    # æ›´æ”¹ArticleInfoæ¨¡å‹çš„contentå­—æ®µçš„æ•°æ®ç±»å‹ä¸ºckedtorçš„ç±»å‹</span><br><span class="line">    content = RichTextUploadingField(&#x27;å†…å®¹&#x27;)</span><br><span class="line">    articlephoto = models.ImageField(&#x27;æ–‡ç« å›¾ç‰‡&#x27;, blank=True, upload_to=&#x27;images/article/&#x27;)</span><br><span class="line">    reading = models.IntegerField(&#x27;é˜…è¯»é‡&#x27;, default=0)</span><br><span class="line">    liking = models.IntegerField(&#x27;ç‚¹èµé‡&#x27;, default=0)</span><br><span class="line">    created = models.DateTimeField(&#x27;åˆ›å»ºæ—¶é—´&#x27;, default=timezone.now)</span><br><span class="line">    updated = models.DateTimeField(&#x27;æ›´æ–°æ—¶é—´&#x27;, auto_now=True)</span><br><span class="line">    article_tag = models.ManyToManyField(ArticleTag, blank=True, verbose_name=&#x27;æ–‡ç« æ ‡ç­¾&#x27;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return self.title</span><br><span class="line">    class Meta:</span><br><span class="line">        verbose_name = &#x27;åšæ–‡ç®¡ç†&#x27;</span><br><span class="line">        verbose_name_plural = &#x27;åšæ–‡ç®¡ç†&#x27;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3><span id="å››-æ•°æ®è¿ç§»">å››ã€æ•°æ®è¿ç§»</span></h3><blockquote>
<p><strong>ç”±äºå˜æ›´äº†æ–‡ç« å†…å®¹çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ç°åœ¨éœ€è¦è¿›è¡Œæ•°æ®è¿ç§»ã€‚</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å¤åˆ¶# åœ¨cmdæˆ–Terminalä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span><br><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1><span id="å››-åæœŸè¿­ä»£">å››ã€åæœŸè¿­ä»£</span></h1><p>å¾…å®Œå–„åŠŸèƒ½ï¼šç”¨æˆ·æŸ¥æ‰¾ï¼Œåšæ–‡æœç´¢ã€ç”¨æˆ·ç®¡ç†æ”¹ä¸ºè´¦æˆ·ç®¡ç†</p>

      </section>

      
      
        <nav class="article-nav">
          
            <div class="article-nav-item layout-padding">
  <article class="card-container article-nav-card content-padding--primary soft-size--large soft-style--box">
    
    <div class="card-text">
      
        <a href="/2024/10/04/Python%E5%B8%B8%E7%94%A8%E5%BA%93/" itemprop="url">
          <h2 class="card-text--title text-ellipsis">Pythonå¸¸ç”¨åº“</h2>
        </a>
      
      <div class="card-text--row">Newer</div>
    </div>
  </article>
</div>
          
          
            <div class="article-nav-item layout-padding">
  <article class="card-container article-nav-card content-padding--primary soft-size--large soft-style--box">
    
    <div class="card-text">
      
        <a href="/2024/10/04/TKGUI/" itemprop="url">
          <h2 class="card-text--title text-ellipsis">TKGUI</h2>
        </a>
      
      <div class="card-text--row">Older</div>
    </div>
  </article>
</div>
          
        </nav>
      

      <section class="page-message-container layout-padding">
        


  
  

  
  


      </section>
    </div>
    <div class="widget-info">
      <section class="widget-author widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-body">
    
      <img src="https://img.tukuppt.com/ad_preview/00/83/15/jmLqkl3XWx.jpg!/fw/260" class="soft-size--round soft-style--box" alt="ChengZhou">
    
    
      <h2>ChengZhou</h2>
    
    
      <p>è´µåœ¨åšæŒ</p>
    

    <div class="count-box">
      <div class="count-box--item">
        <svg class="icon icon-article" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M240.51564747 647.74217627h196.07203239c16.59071043 0 30.16492806-13.57421762 30.16492805-30.16492806V165.10332731c0-33.18142087-30.16492806-60.32985613-60.32985612-60.32985611H245.04038668C225.43318342 104.7734712 210.35071939 119.85593522 210.35071939 139.46313845V617.57724821c0 16.59071043 13.57421762 30.16492806 30.16492808 30.16492806z m663.62841731-452.47392089v482.63884894c0 33.18142087-27.14843525 60.32985613-60.32985612 60.32985613H180.18579134c-33.18142087 0-60.32985613-27.14843525-60.32985612-60.32985613V195.26825538c-49.77213131 0-90.49478418 40.72265287-90.49478417 90.49478417v452.4739209c0 49.77213131 40.72265287 90.49478418 90.49478417 90.49478417h286.56681657c16.59071043 0 30.16492806 13.57421762 30.16492807 30.16492807s13.57421762 30.16492806 30.16492805 30.16492806h90.49478418c16.59071043 0 30.16492806-13.57421762 30.16492805-30.16492806s13.57421762-30.16492806 30.16492807-30.16492807h286.56681657c49.77213131 0 90.49478418-40.72265287 90.49478417-90.49478417V285.76303955c0-49.77213131-40.72265287-90.49478418-90.49478417-90.49478417zM587.41232014 647.74217627h191.54729318c19.60720323 0 34.68966726-15.08246403 34.68966729-34.68966727V134.93839925c0-16.59071043-13.57421762-30.16492806-30.16492808-30.16492805H617.57724821c-30.16492806 0-60.32985613 27.14843525-60.32985612 60.32985611v452.4739209c0 16.59071043 13.57421762 30.16492806 30.16492805 30.16492806z" fill="currentColor"></path>
</svg>
        <span>20</span>
      </div>
      <div class="count-box--item">
        <svg class="icon icon-categories" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M900.3614811 257.09082106h-339.81629553l-67.96326003-101.9448889c-19.41807444-29.12711113-48.54518557-43.69066667-82.52681443-43.69066667H123.6385189c-53.39970333 0-97.09036999 43.69066667-97.09037113 97.09036999v582.54222222c0 53.39970333 43.69066667 97.09036999 97.09037113 97.09037002h776.7229622c53.39970333 0 97.09036999-43.69066667 97.09037113-97.09037002V354.18119104c0-53.39970333-43.69066667-97.09036999-97.09037113-97.09036998z m-97.09036999 242.72592554H220.72888889c-24.27259221 0-48.54518557-24.27259221-48.54518556-48.54518556s24.27259221-48.54518557 48.54518556-48.54518444h582.54222222c24.27259221 0 48.54518557 24.27259221 48.54518556 48.54518444s-24.27259221 48.54518557-48.54518556 48.54518556z" fill="currentColor"></path>
</svg>
        0
      </div>
      <div class="count-box--item">
        <svg class="icon icon-tags" viewBox="0 0 1098 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M283.42180005 272q0-28.38857157-20.09142843-48.48000001t-48.47999998-20.09142842-48.48000002 20.09142842-20.09142846 48.48000001 20.09142846 48.48 48.48000002 20.09142843 48.47999998-20.09142843 20.09142843-48.48zM855.0332285 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.03999997 263.58857157q-20.9142853 19.81714313-48.75428534 19.81714312-28.38857157 0-48.20571468-19.81714312l-383.04-383.58857157q-20.36571468-19.81714313-34.55999999-54.10285688t-14.19428534-62.6742853l0-222.85714313q0-27.84000002 20.36571469-48.20571469t48.2057147-20.36571466l222.85714313 0q28.38857157 0 62.6742853 14.19428529t54.65142842 34.55999999l383.04000001 382.49142843q19.81714313 20.9142853 19.81714314 48.75428532zM1060.74751475 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.04 263.58857157q-20.9142853 19.81714313-48.75428531 19.81714312-19.26857155 0-31.61142843-7.47428531t-28.38857159-24.13714314l251.79428534-251.7942853q19.81714313-19.81714313 19.81714308-48.20571469 0-27.84000002-19.81714308-48.75428531l-383.04000001-382.49142845q-20.36571468-20.36571468-54.65142842-34.55999999t-62.67428532-14.19428534l120 0q28.38857157 0 62.67428532 14.19428534t54.65142842 34.55999999l383.03999998 382.49142845q19.81714313 20.9142853 19.81714314 48.75428531z" fill="currentColor"></path>
</svg>
        17
      </div>
    </div>
  </div>
</section>

      

      
<section class="widet-notice widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-notice" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 945.02305225v28.15620663a24.27259221 24.27259221 0 0 1-24.27259221 24.27259335H394.0352a48.54518557 48.54518557 0 0 1-41.74885888-23.78714112l-110.68302222-184.47170332a132.04290333 132.04290333 0 0 1-17.47626667-48.54518557h118.4502511a200.97706667 200.97706667 0 0 1 76.21594113 14.56355556l20.38897777 133.49925888a48.54518557 48.54518557 0 0 0 36.40888888 27.67075555l16.01991111 2.91271112a24.27259221 24.27259221 0 0 1 20.38897778 25.72894889zM997.45185223 463.45481443a194.18074112 194.18074112 0 0 1-38.8361489 116.50844445 24.75804445 24.75804445 0 0 1-36.4088889 0l-34.95253333-34.95253333a24.27259221 24.27259221 0 0 1-2.91271111-30.58346667 97.09036999 97.09036999 0 0 0 0-106.79940665 24.27259221 24.27259221 0 0 1 2.91271111-30.58346666l34.95253333-34.95253334a24.75804445 24.75804445 0 0 1 18.93262223-7.28177777 26.2144 26.2144 0 0 1 17.47626667 9.70903665A194.18074112 194.18074112 0 0 1 997.45185223 463.45481443z m-194.18074112-388.36148111v776.72296335a48.54518557 48.54518557 0 0 1-48.54518556 48.54518443h-28.64165888a48.54518557 48.54518557 0 0 1-33.98163001-14.07810332l-145.63555556-143.20829668A291.27111111 291.27111111 0 0 0 342.57730333 657.63555556H172.18370333a145.63555556 145.63555556 0 0 1-145.63555556-145.63555556v-97.09036999a145.63555556 145.63555556 0 0 1 145.63555556-145.63555556h170.3936a291.27111111 291.27111111 0 0 0 206.31703779-85.43952668l145.63555555-143.20829554a48.54518557 48.54518557 0 0 1 33.98162888-14.07810446H754.72592555a48.54518557 48.54518557 0 0 1 48.54518556 48.54518555z" fill="currentColor"></path>
</svg>
    <span>NOTICE</span>
  </div>
  <div class="widget-body">
    <p>å­¦ä¹ ä¸­ã€‚ã€‚ã€‚</p>
  </div>
</section>


      <section class="widget-categories widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-categories" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M900.3614811 257.09082106h-339.81629553l-67.96326003-101.9448889c-19.41807444-29.12711113-48.54518557-43.69066667-82.52681443-43.69066667H123.6385189c-53.39970333 0-97.09036999 43.69066667-97.09037113 97.09036999v582.54222222c0 53.39970333 43.69066667 97.09036999 97.09037113 97.09037002h776.7229622c53.39970333 0 97.09036999-43.69066667 97.09037113-97.09037002V354.18119104c0-53.39970333-43.69066667-97.09036999-97.09037113-97.09036998z m-97.09036999 242.72592554H220.72888889c-24.27259221 0-48.54518557-24.27259221-48.54518556-48.54518556s24.27259221-48.54518557 48.54518556-48.54518444h582.54222222c24.27259221 0 48.54518557 24.27259221 48.54518556 48.54518444s-24.27259221 48.54518557-48.54518556 48.54518556z" fill="currentColor"></path>
</svg>
      <span>CATEGORIES</span>
  </div>
  <div class="widget-body">
    <ul class="categories-list">
      
    </ul>
  </div>
</section>

      <section class="widget-tags widget-item  layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-title">
    <svg class="icon icon-tags" viewBox="0 0 1098 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M283.42180005 272q0-28.38857157-20.09142843-48.48000001t-48.47999998-20.09142842-48.48000002 20.09142842-20.09142846 48.48000001 20.09142846 48.48 48.48000002 20.09142843 48.47999998-20.09142843 20.09142843-48.48zM855.0332285 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.03999997 263.58857157q-20.9142853 19.81714313-48.75428534 19.81714312-28.38857157 0-48.20571468-19.81714312l-383.04-383.58857157q-20.36571468-19.81714313-34.55999999-54.10285688t-14.19428534-62.6742853l0-222.85714313q0-27.84000002 20.36571469-48.20571469t48.2057147-20.36571466l222.85714313 0q28.38857157 0 62.6742853 14.19428529t54.65142842 34.55999999l383.04000001 382.49142843q19.81714313 20.9142853 19.81714314 48.75428532zM1060.74751475 580.57142843q0 28.38857157-19.81714313 48.2057147l-263.04 263.58857157q-20.9142853 19.81714313-48.75428531 19.81714312-19.26857155 0-31.61142843-7.47428531t-28.38857159-24.13714314l251.79428534-251.7942853q19.81714313-19.81714313 19.81714308-48.20571469 0-27.84000002-19.81714308-48.75428531l-383.04000001-382.49142845q-20.36571468-20.36571468-54.65142842-34.55999999t-62.67428532-14.19428534l120 0q28.38857157 0 62.67428532 14.19428534t54.65142842 34.55999999l383.03999998 382.49142845q19.81714313 20.9142853 19.81714314 48.75428531z" fill="currentColor"></path>
</svg>
    <span>TAGS</span>
  </div>
  <div class="widget-body">
    <div class="tags-cloud">
      <a href="/tags/Django/" style="font-size: 10px;" class="tags-cloud-0">Django</a> <a href="/tags/Django-Linux/" style="font-size: 10px;" class="tags-cloud-0">Django Linux</a> <a href="/tags/Excel%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size: 10px;" class="tags-cloud-0">Excelè‡ªåŠ¨åŒ–</a> <a href="/tags/Flask/" style="font-size: 10px;" class="tags-cloud-0">Flask</a> <a href="/tags/Linux-Mysql/" style="font-size: 10px;" class="tags-cloud-0">Linux Mysql</a> <a href="/tags/Python/" style="font-size: 10px;" class="tags-cloud-0">Python</a> <a href="/tags/Python-Mysql/" style="font-size: 10px;" class="tags-cloud-0">Python Mysql</a> <a href="/tags/Redis/" style="font-size: 10px;" class="tags-cloud-0">Redis</a> <a href="/tags/TkGUI/" style="font-size: 10px;" class="tags-cloud-0">TkGUI</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" style="font-size: 10px;" class="tags-cloud-0">åšå®¢æ­å»º</a> <a href="/tags/%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/" style="font-size: 20px;" class="tags-cloud-10">å®¹å™¨éƒ¨ç½²</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;" class="tags-cloud-0">æ•°æ®ç»“æ„</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size: 10px;" class="tags-cloud-0">æµè§ˆå™¨è‡ªåŠ¨åŒ–</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;" class="tags-cloud-0">çˆ¬è™«</a> <a href="/tags/%E7%BD%91%E9%A1%B5%E5%B8%83%E5%B1%80/" style="font-size: 10px;" class="tags-cloud-0">ç½‘é¡µå¸ƒå±€</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size: 15px;" class="tags-cloud-5">è‡ªåŠ¨åŒ–</a> <a href="/tags/%E9%A1%B9%E7%9B%AE%E8%AE%B0%E5%BD%95/" style="font-size: 10px;" class="tags-cloud-0">é¡¹ç›®è®°å½•</a>
    </div>
  </div>
</section>
    </div>
  </article>
</div>

    <!-- footer container -->
<footer id="footer" class="footer">
  <div class="footer-container">
    
    <div class="social-icons">
      
        
      
        
      
        
      
        
          <a href="https://github.com/Xiaozhou-h" class="soft-size--primary soft-style--box" target="_blank" rel="noopener noreferrer">
            <svg class="icon icon-github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64.6 512c0 195.6 125.4 361.9 300.1 422.9 23.5 5.9 19.9-10.8 19.9-22.2v-77.6c-135.8 15.9-141.3-74-150.5-89-18.5-31.5-61.9-39.5-49-54.5 31-15.9 62.5 4 98.9 58 26.4 39.1 77.9 32.5 104.1 26 5.7-23.5 17.9-44.5 34.7-60.9-140.7-25.2-199.4-111.1-199.4-213.3 0-49.5 16.4-95.1 48.4-131.8-20.4-60.6 1.9-112.4 4.9-120.1 58.2-5.2 118.5 41.6 123.3 45.3 33.1-8.9 70.8-13.7 112.9-13.7 42.4 0 80.3 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.4-43.9 2.9 7.7 24.7 58.3 5.5 118.1 32.5 36.8 49 82.8 49 132.4 0 102.3-59 188.3-200.2 213.2 23.5 23.3 38.1 55.5 38.1 91.1v112.7c0.8 9 0 17.9 15.1 17.9C832.7 877 960.4 709.4 960.4 512.1c0-247.5-200.6-447.9-447.9-447.9C265 64.1 64.6 264.5 64.6 512z"></path>
</svg>
          </a>
        
      
        
          <a href="https://github.com/Xiaozhou-h" class="soft-size--primary soft-style--box" target="_blank" rel="noopener noreferrer">
            <svg class="icon icon-twitter" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M962.285714 233.142857q-38.285714 56-92.571429 95.428571 0.571429 8 0.571429 24 0 74.285714-21.714286 148.285714t-66 142-105.428571 120.285714-147.428571 83.428571-184.571429 31.142857q-154.857143 0-283.428571-82.857143 20 2.285714 44.571429 2.285714 128.571429 0 229.142857-78.857143-60-1.142857-107.428571-36.857143t-65.142857-91.142857q18.857143 2.857143 34.857143 2.857143 24.571429 0 48.571429-6.285714-64-13.142857-106-63.714286t-42-117.428571l0-2.285714q38.857143 21.714286 83.428571 23.428571-37.714286-25.142857-60-65.714286t-22.285714-88q0-50.285714 25.142857-93.142857 69.142857 85.142857 168.285714 136.285714t212.285714 56.857143q-4.571429-21.714286-4.571429-42.285714 0-76.571429 54-130.571429t130.571429-54q80 0 134.857143 58.285714 62.285714-12 117.142857-44.571429-21.142857 65.714286-81.142857 101.714286 53.142857-5.714286 106.285714-28.571429z"></path>
</svg>
          </a>
        
      
    </div>
     
    <p>&copy; 2024 <a href="/" target="_blank">ChengZhou</a></p>

    

    <p>Powered by <a href="https://hexo.io" target="_blank" rel="noopener noreferrer">Hexo</a> Theme - <a href="https://github.com/miiiku/flex-block" target="_blank" rel="noopener noreferrer author">flex-block</a></p>

    <p>
      <a href="javascript:;" id="theme-light">ğŸŒ æµ…è‰²</a>
      <a href="javascript:;" id="theme-dark">ğŸŒ› æ·±è‰²</a>
      <a href="javascript:;" id="theme-auto">ğŸ¤–ï¸ è‡ªåŠ¨</a>
    </p>
  </div>
</footer>
  </div>

  <div class="back-to-top-fixed soft-size--round soft-style--box">
    <svg class="icon icon-back-to-top" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
      <path d="M725.333333 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8l-213.333333-213.333333c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l213.333333 213.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C746.666667 422.4 738.133333 426.666667 725.333333 426.666667z"></path>
      <path d="M298.666667 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l213.333333-213.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-213.333333 213.333333C320 422.4 311.466667 426.666667 298.666667 426.666667z"></path>
      <path d="M512 896c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C554.666667 878.933333 537.6 896 512 896z"></path>
    </svg>
  </div>

  
  






<!-- copy button  -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script>

<!-- https://clipboardjs.com/ -->










  


  


  




<script src="/js/script.js"></script>


  
  <!-- å°¾éƒ¨ç”¨æˆ·è‡ªå®šä¹‰ç›¸å…³å†…å®¹ -->
</body>
</html>
